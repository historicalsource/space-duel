	.TITLE AST2RD-ASTERIODS 2 (28503)
	.ASECT
	.ENABLE AMA
	.RADIX 16
;***********************************************
;*
;*DATE INITIATED:		12-MARCH-80
;*
;*PROJECT CHARGE #:		28503
;*
;*DISK #:			73 (BACKUP B4),((77 WHEN ASSEMBLING))
;*
;*HARDWARE REQUIREMENTS:	VECTOR HARDWARE WITH PAGE SELECT ON 2
;*
;*
;*MEMORY REQUIREMENTS:		VECTOR RAM:  2000-27FF (2K)
;*				VECTOR ROM:  2800-3FFF (4K)
;*				PROGRAM ROM: 4000-7FFF (16K)
;*				SCRATCH:     PAGE 0
;*				STACK:	     PAGE 1
;*					     PAGE 2
;;*					     PAGE 3
;*
;*INTERRUPTS:			IRQ (4 MS)
;*
;*ASSEMBLY COMMAND STRING:	R MAC65
;*				ASTROD/A/C
;*
;*LINK COMMAND:			OUTPUT(S)=DX1:AS2ROM,AST2RD,VGUTR2,AS2MSG,AS2POK,AS2TST,AS2COI
;*					DX1:AS2PO2,AS2PO3
;*
;*SPECIAL ASSEMBLY INSTRUCTIONS: AS2DEC MUST BE SOMEWHERE IN THE SYSTEM
;*
;*PROGRAM DESCRIPTION:		THIRD PERSON VIEW OF TWO SPACE SHIPS
;*				WITH ASTEROIDS THROUGHOUT SPACE.
;*				LARGE ASTEROIDS BREAK UP WHEN
;*				HIT AND SMALLER ASTEROIDS DISINTEGRATE
;*				WHEN HIT. A LARGE AND SMALL
;*				SAUCER ALSO APPEAR TO SHOOT AT
;*				THE SHIP.
;*				INDESTRUCTIBLE KILLER MINES PROVIDE PROBLEMS.
;*				COMETS COME STRAIGT AT SHIPS, TURN INTO HEAT SEEKING
;*				ASTERISKS WHEN THEY REACH THE EDGE OF SCREEN
;*				VERSIONS INCLUDE:
;*				2 PLAYER ASTEROIDS, NOT DIE WHEN OTHER PLAYER SHOOTS YOU
;*				COOPERATIVE DEFENSE
;*
;*CONTROLS:			TWO SETS OF:ROTATE LEFT, ROTATE RIGHT, THRUST, FIRE
;*				AND SHIELD BUTTONS
;*
;*******************************************************
	.SBTTL ************************
	.SBTTL *
	.SBTTL *PROGRAMMER: RICHARD MAURER
	.SBTTL *	    OWEN RUBEN
	.SBTTL *
	.SBTTL ************************
	.PAGE
	.SBTTL GLOBAL SYMBOL DECLARATIONS
;
;ENTRY POINTS
;
	.GLOBL START,NAMSEL,STRTLOK,SUPRC,POPSN
	.GLOBL DIGITS,FLASHCOL,SMINVEL,GTOPTN
	.GLOBL LANGOFF,BIGBANG,PICSEL
	.GLOBL HSCBEG,PICADH,PICADL
	.GLOBL ROTAST,START2,FAN,ROCPIC

;
;
;EXTERNAL ENTRY POINTS
;
;EAROM ROUTINE ENTRY/EXIT POINTS
	.GLOBL EAUPD,EAZERO,REHIIN,WRHIIN,EASETUP
	.GLOBL EAFLG,WRBOOK,EAZBOO,EAZHIS
	.GLOBL BOOK,STESTA,MESGPOS
	.GLOBL SAUCSN,PL0FIR,PL1FIR,EXTLIF,EXPLOS,THRUSN
	.GLOBL EN0SN,EN1SN,SH0SN,SH1SN,FU0SN,FU1SN
	.GLOBL VGHALT,VGVCTR,VGRTSL,VGMSGA,VGMSGU		;UTILITY ROUTINES(SEE VECUT.MAC)
	.GLOBL VGJMPL,VGJSRL,WNDSET,HUM,SFREQ,FRAME,COMTIMER
	.GLOBL VGADD,VGCNTR
	.GLOBL VGHEX,VGHEX1,VGHEXZ,VGVTR,VGNEG,VGVTR5
	.GLOBL VGSCAL,VGSCA1,VGAD1B
	.GLOBL VGSTAT,VGSTA1,VGCHAR
	.GLOBL VGSETZ
;AS2ROM GLOBALS
	.GLOBL LIVEPAR,LIVUDPAR,LLIVESHIP,ULIVESHIP
	.GLOBL LLIVUDSHIP,ULIVUDSHIP,CNTHSC,QHEADER
	.GLOBL FRCFLD,FRCFL8,FRCFL9
	.GLOBL RHTSHP,LFTSHP,PLTLIV,LFUDSHIP,PAIRUD
	.GLOBL PL0SET,PL1SET,CMSBSET,CMBSET
	.GLOBL PYR11,PYR12,PYR13,CVR11,CVR12,CVR13
	.GLOBL CVR21,CVR22,CVR23,VROCK1,VROCK2,VROCK3,VROCK4
	.GLOBL SAU11,SAU12,SAU13,SAUCRC
	.GLOBL EXP9,EXP10,EXP11,EXP12,EXP13,EXP14,EXP15,EXP16
	.IRPC X,<0123>
	.GLOBL ROCK'X'1,ROCK'X'2,PYRM'X'1,CUBE'X'1,HEXA'X'1
	.GLOBL PLN'X'1,PENT'X'1
	.ENDR
	.GLOBL STAR01,STAR11,STAR21,STAR31
	.GLOBL CUBNM8,CUBNM9
	.GLOBL CNTSCL,SHOT,DWARF,COMET,SHIELD
	.GLOBL FLARE
;OTHER POORLY PLACED GLOBALS
	.GLOBL POWERON,TOTOBJ
	.GLOBL SHIPS,EXPPIC,ROCKA,SAUCER	;PICTURES OF SHIP AND ASTEROIDS
	.GLOBL MINE,SCSHSP,PRTDAMAGE,IANGLE,SANGLE
	.GLOBL VGMSG,VGMSG5,VGMSG3,VGMSG4	;MESSAGE PROCESSOR
	.GLOBL PWRON,VGADD2,VGAD2B		;ENTRY POINTS FOR AS2TST.MAC
	.GLOBL EXPSHP,EXPDIR,UEXPDIR		;EXPLODING SHIP PICTURES
	.GLOBL ASTMG8,ASTMG9
	.GLOBL SINCOS,TOGDRONE
	.GLOBL XPLPIECE
	.GLOBL IRQ,MOOLAH		;SO CAN SEE ON LINKER LIST
	.GLOBL INISOU,MODSND,GATES
	.GLOBL DIGITS
	.GLOBL HSCBEG
;GLOBAL VARIABLES
;EAROM VARIABLES
	.GLOBL EAZFLG,EAREQU,EARWRQ,EABAD,EABUF
	.GLOBL EAFLG,EABC,EAX,EACNT,EASEL
	.GLOBL EACS,EASRCE
;BOOKKEEPPING VARIABLES (FOR EA ROM)
	.GLOBL PLAYTIME,GAMES1,ONTIME,BONTIME,GTIME,GAME
	.GLOBL NAMES,SPINT,FLSFLG
	.GLOBL INITL,HSCORE
	.GLOBL UPDOWN			;MESSAGES, ESPECIALLY FOR COCKTAIL
	.GLOBB FREXPLOSION,OPTN1,LANG,ATSTG,$USE
;GLOBALS IN VGROM
	.GLOBL WNDSE8,WNDSE9
;
	.GLOBL CNTRS8,CNTRS9
	.GLOBL SAU11,SAU12,SAU13
;ZERO PAGE GLOBALS
;
	.GLOBB TEMPA,TEMPB,TEMP12,TEMPC,SYNC
	.GLOBB ATRACT,INTRPT,DIFF,HITS,NXTBON
	.GLOBB OLDVEC,SAUMIN,BONLVA
	.GLOBB XCOMP,TEMP1,VGLIST,VGBRIT,TEMP10,TEMP11,TEMP8,TEMP9
	.GLOBB TEMP3,UPDFLG,FRAME,TEMP2,TEMP4,TEMP5,TEMP6,TEMP7
	.GLOBB $CCTIM,$$CRDT,$CMODE,$PSTSL,$LMTIM,$CNCT,$CNSTT,$INTCT
	.GLOBB $LAM,$BCCNT,$BC
	.GLOBL SAUCIX,OBJXH,OBJXL,OBJYH,OBJYL,WAVE,SUPRSAC
	.GLOBL XINC,YINC,SUPRTIM,SUPRDIS,NEXTEX,SECOND
	.GLOBB OBJ,$TCMFLG
	.GLOBL $LMBIT,$COINA,ASTERS,NROCKS,MODNUM
	.GLOBL HSCFLG,ZSAUCER,ZCOMINES,NMCOMINES
;OTHER GLOBALS.......................
	.INCLUDE HLL65F
	.INCLUDE AS2DEC		;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

	.INCLUDE VGMC	;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
	.SBTTL LABS
	.MACRO LABS DX,DY,SCALE
	CNTR 0
	VCTR DX,DY,0
	.ENDM

;
;VCTRSC-DRAW VECTOR INSTRUCTION
;THIS INSTRUCTION DRAWS A VECTOR ON THE DISPLAY AREA
;RELATIVE TO THE PREVIOUS BEAM POSITION BEFORE THE
;INSTRUCTION IS EXECUTED. DX IS THE CHANGE IN BEAM X
;POSITION; DY IS THE CHANGE IN BEAM Y POSITION; ZZ
;SPECIFIES THE BEAM INTENSITY (0 THROUGH 7., 0 IS
;NO INTENSITY, 7. IS BRIGHTEST INTENSITY).
;...SCAL IS SCALE TO BE SET (1,2,4,8)
;
	.SBTTL VCTRSC
	.MACRO VCTRSC DX,DY,ZZ
	.IF GE,DX
	...1=DX+<...SCAL/2>/...SCAL
	...6=...1
	.IFF
	...1=DX-<...SCAL/2>/...SCAL
	...6=-...1
	.ENDC
	.IF GE,DY
	...2=DY+<...SCAL/2>/...SCAL
	...7=...2
	.IFF
	...2=DY-<...SCAL/2>/...SCAL
	...7=-...2
	.ENDC
	...5=...6!...7
	.IF EQ,...5&^H0FFE1
	.WORD ^H4000+<ZZ*^H20>+<...1/2&^H1F>+<...2*^H80&^H1F00>
	.MEXIT
	.ENDC
	.WORD ...2&^H1FFF,<ZZ*^H2000>+<...1&^H1FFF>
	.ENDM
;ASCIN - TAKE AN ASCII STRING AND MAP 3 CHARACTERS TO 2 BYTES
;
;THIS MACRO PACKS 3 ASCII CHARACTERS (BLANK, A THRU Z,0,1, OR 2) INTO 2
;BYTES IN THE FORMAT
;	AAAAABBB BBCCCCCD
;WHERE D=1 MEANS END OF LIST
;	AAAAA,BBBBB,CCCCC=INDEX AS FOLLOWS
;	0=END OF LIST
;	1=BLANK
;	2=0
;	3=1
;	4=2
;	5=A
;	ETC.
	.MACRO ASCIN STRING
	...N=0
	.NCHR ...C,<STRING>
	.ENABL M68
	.IRPC ...5,<STRING>
	...4=''...5
	...C=...C-1
	...3=0
	.IIF EQ,...4-^H20,...3=1
	.IF GE,...4-^H30
	.IIF LT,...4-^H33,...3=...4-^H30+2
	.ENDC
	.IF GE,...4-^H41
	.IIF LT,...4-^H5B,...3=...4-^H41+5
	.ENDC
	.IIF EQ,...N,...1=...3
	.IIF EQ,...N-1,...2=...3
	...N=...N+1
	.IF EQ,...N-3
	...N=0
	.IIF EQ,...C,.WORD <...1*^H800>+<...2*^H40>+<...3*2>+1
	.IIF NE,...C,.WORD <...1*^H800>+<...2*^H40>+<...3*2>
	.ENDC
	.ENDM
	.IIF EQ,...N-1,.WORD ...1*^H800
	.IIF EQ,...N-2,.WORD <...1*^H800>+<...2*^H40>
	.DSABL M68
	.ENDM
	.RADIX 16


	.MACRO COLOR COL,LUM
	.BYTE <LUM*^H10>+COL,^H64
	.ENDM
;
;COLOR TABLE
;
BLACK	==0
BLUE	==1
GREEN	==2
GRBLUE	==3
RED	==4
VIOLET	==5
YELLOW	==6
WHITE	==7
;
RODCOL ==YELLOW
PL0COL	==RED			;PLAYER 0 COLOR
PL1COL	==GREEN			;PLAYER 1 COLOR
	.MACRO MULBLD		; MACRO TO BUILD MULTIPLY TABLE
	.NIBH=0
	.REPT 10
	.NIBL=0
	.REPT 10
	.BYTE .NIBH*.NIBL
	.NIBL=.NIBL+1
	.ENDR
	.NIBH=.NIBH+1
	.ENDR
	.ENDM
; CONTIGUITY REQUIREMENTS
; SHIPS FOLLOW SAUCER - EFIRE
; COLLIDE HAS SOME RESTRICTIONS

	.SBTTL PAGE 0 DECLARATIONS
	
VGBRIT:	.BLKB 1			;VECTOR BRIGHTNESS (0=OFF, F0=MAX, 20 INC)
VGLIST:	.BLKB 2			;VECTOR LIST POINTER
XCOMP:	.BLKB 4			;X COMPONENT FOR VECTORS
TEMP1:	.BLKB 3			;SCRATCH-3 BYTES USED BY SELF-TEST
TEMP1C	=TEMP1+2
TEMP2:	.BLKB 2
TEMP3:	.BLKB 4			;TEMP3 USUALLY SAVES X.TEMP 3+1 FOR Y
TEMP3C	=TEMP3+2
TEMP3D	=TEMP3+3
TEMP4:	.BLKB 3
TEMP5:	.BLKB 1
TEMP6:	.BLKB 1
TEMP7:	.BLKB 1
TEMP7B:	.BLKB 1
TEMP8:	.BLKB 1
TEMP9:	.BLKB 1
TEMP10:	.BLKB 1
TEMP11:	.BLKB 1
TEMP12:	.BLKB 1
TEMPA:	.BLKB 1
TEMPB:	.BLKB 1
TEMPC:	.BLKB 1
$TCMFLG: .BLKB 1		;2 COIN MIN FLAG
$$CRDT:	.BLKB 1			;COIN ROUTINE DEFINITION (SEE COIN65.MAC)	
$INTCT:	.BLKB 1
$BCCNT:	.BLKB 1
$BC:	.BLKB 1
$CMODE:	.BLKB 1
$LMTIM:	.BLKB 1
$CNCT:	.BLKB 1
$CCTIM:	.BLKB 3
$PSTSL:	.BLKB 3
$CNSTT:	.BLKB 3
$USE:	.BLKB 1		; COIN ROUTINE IN USE (IF POSITIVE)
$LOCKCOIL:	.BLKB 1		;OUTPUT BUFFER FOR:
				;D7=Y INVERT
				;D6=X INVERT
				;D5=START LED (0=ON)
				;D4=SELECT LED (0=ON)
				;D3=COIN LOCKOUT (1=NO COINS)
				;D2=LEFT COIN COUNTER
				;D1=CENTER COIN COUNTER
				;D0=RIGHT COIN COUNTER
INTRPT:	.BLKB 1
SYNC:	.BLKB 1
GAME:	.BLKB 1
SAVTOP:				;ALL RAM FROM NOW ON NEED NOT BE SAVED FROM GAME TO GAME
ATRACT:	.BLKB 1			;POSITIVE GAME GOING, ZERO FOR ATTACT
UPDINT:	.BLKB 2			;0,1, OR 2 TO INDICATE WHICH INITIAL IS BEING SELECTED
UPDFLG:	.BLKB 2			;POSITIVE MEANS THIS PLAYER HAS SET NEW HIGH SCORE
SCORE:	.BLKB 3*2		;PLAYER 1 AND 2 SCORES (LOW,MED,HIGH,BYTES)(BCD)
CMBSCORE:.BLKB 3		;COMBINED SCORE
GENDING:	.BLKB 1		;DELAY BEFORE ENDNG GAME IF NONZERO,COUNTS UP TO ZERO
FRAME:	.BLKB 3			;FRAME COUNTER
HITS:	.BLKB 2			;NUMBER OF HITS REMAINING (=0 FOR ATTRACT MODE)
LASTSW:	.BLKB NMSHIP		;LAST SWITCH READING
XINCL:	.BLKB NMSHIP		;SHIPS LSB FOR X INCREMENT
YINCL:	.BLKB NMSHIP		;SHIPS LSB FOR Y INCREMENT
	
	
TOGGLE:	.BLKB NMSHIP		;SHLDON
TOGDRONE:	.BLKB 1		;(D7) DRONE PLAYER
TOGCOMB:.BLKB 1			;(D7) COMBINED LIVES
SCRFUL:	.BLKB 1			;(D7) SCREEN HAS MAXIMUM NUMBER OF OBJECTS
KLMOFF:	.BLKB 1		;(D7) KILLERMINE TO GO OFF SCREEN (D6) COMETS TO GO OFF)
TSTBYTE:	.BLKB 1		;SEE IF ENMOFF GETS CLOBBERED FROM ABOVE
NCHANL==10
POINT::	.BLKB NCHANL
CURRENT::.BLKB NCHANL
COUNT::	.BLKB NCHANL
FRAMES::.BLKB NCHANL
SINDEX::.BLKB 1
OBJ:	.BLKB NMROCKS		;ZERO IF OBJECT NOT ACTIVE- OTHERWISE PICTURE NUMBER
OBCOMETS:.BLKB NMCOMETS
OBKLMINES:.BLKB NMKLMINES		; KILLER MINES
OBSAUCER:.BLKB NMSAUCER
OBSHIP:	.BLKB NMSHIPS
OBPAIR:	.BLKB 1			;PAIR
OBMINES:			;BEGINNING OF SHOTS
OBCOMINES:.BLKB NMCOMINES	;COMPUTER MINES
OBP0MINES:.BLKB NMP0MINES	;PLAYER 0 MINES
OBP1MINES:.BLKB NMP0MINES	;PLAYER 1 MINES
				;BITS 0-2=SIZE, 1=SMALL, 2=MEDIUM, 4=LARGE
				;BITS 3-6=PICTURE NUMBER
EASRCE:	.BLKB 2			;EAROM POINTER
KLMINC:	.BLKB NMKLMINES		;COLOR OF MINES (SHOT COUNT-1)
DIFCTY:	.BLKB 1		;DIFFICULTY VALUE FOR STARTING SAUCERS
OPTN1:	.BLKB 1			;OPTION 1 READING
LANG:	.BLKB 1			;LANGUAGE
DIFF:	.BLKB 1			;DIFFICULITY LEVEL FROM OPTION SWITCHES
SAUMIN:	.BLKB NMSAUCER		;MINIUM VELOCITIES OF SAUCERS
ROCKMIN:	.BLKB 2		;ROCK MIN; + - VEL
ROCKMAX:	.BLKB 2		;ROCK VEL MAX
SAVZTOP:
LASTOBJECT=.-1
NXTBON:	.BLKB 2			;NEXT BONUS
BONLVA:	.BLKB 1			;BONUS LEVEL AMOUNT
ATSTG:	.BLKB 1			;ATTRACT STAGE FLAG
HSCORE:	.BLKB 3*HSCNUM*4		;HIGH SCORES (LOW,MIDDLE,HIGH)
INITL:	.BLKB 3*HSCNUM*4		;INITIALS FOR HIGH SCORE (FIRST,SECOND,THRID)
SPINT:	.BLKB 3*HSCNUM			;EXTRA INITIALS FOR 2 PLR
					;SPACE STATION GAME
EABUF:	.BLKB 32.			;EA ROM READ/WRITE BUFFER AREA
;EAROM VARIABLES
EAZFLG:	.BLKB 1				;ZERO FLAG (NOT 0 = ZERO EAROM)
EAREQU:	.BLKB 1				;ROM ACCESS REQUEST
					;IF A BIT=0 THEN NO ACTION REQUESTED
					;	 =1 THEN ACCESS THAT DATA
					;D7 REPRESENTS 7TH BATCH OF DATA
					;D0 REPRESENTS 0TH BATCH OF DATA
EARWRQ:	.BLKB 1				;ROM ACCESS TYPE (MATCHES EAREQU)
					;IF BIT=0 THEN READ, ELSE WRITE
EABAD:	.BLKB 1				;ROM ACCESS SUCESS(0), FAIL(1) 
					;(MATCHES EAREQU)
					;
					;EA CONTROLL BYTES FOR 1 OPERATION
					;
EAFLG:	.BLKB 1				;D7=1=ERASE		;=0=R/W
					;D6=1=WRITE		;D5=1=READ
					;D4=1=ZERO EAROM (IF D6=WRITE)
EAERAS	=80
EAWRIT	=40
EAREAD	=20
					;
EABC:	.BLKB 1				;BYTE INDEX INTO ADDRESS AT EASRCE
					;
EAX:	.BLKB 1				;BYTE OFFSET INTO EAROM FOR NEXT ACCESS
					;
EACNT:	.BLKB 1				;BYTE OFFSET INTO EAROM FOR LAST ACCESS
					;
EASEL:	.BLKB 1				;INDEX CODE FOR CURRENT BATCH OPERATION
					;
EACS:	.BLKB 1				;CHECKSUM
ONTIME:	.BLKB 4			;ACTIVE ON TIME COUNTER
BONTIME:	.BLKB 4		;SAME USED FOR EA XFER
PLAYTIME:	.BLKB 4*4		;GAME PLAY TIME (1/2 PLAYER GAMES-4 EACH)
GAMES1:	.BLKB 3*4			;1 PLAYER GAMES
	.SBTTL PAGE 2 AND 3 DECLARATIONS

	.=200

XINC:	.BLKB TOTOBJ		;X INCREMENT FOR UPDATING POSITION(S8999.BBB)
YINC:	.BLKB TOTOBJ		;Y INCREMENT FOR UPDATING POSITION(S9999.BBB)
NROCKS:	.BLKB 1			;CURRENT NUMBER OF ROCKS
ENMDEL:	.BLKB NMSHIPS		;TIME TILL THIS SHIP IS A TARGET
EDELAY:	.BLKB NMSAUCER		;DELAY BEFORE ENEMY ENTRY OR FIRING
SENMDEL:.BLKB NMSHIP		;STARTING ENEMY DELAY
RTIMER:	.BLKB NMSHIP		;ROCK TIME - IF 0 SEND IN SAUCER ANYWAY
SDELAY:	.BLKB NMSHIP		;DELAY COUNT BEFORE ADDING SHIP (80=SHIP JUST DESTROYED)
ETIMER:	.BLKB NMSAUCER		;0 WHEN ALLOWED BACK IN
RDELAY:	.BLKB 1			;DELAY COUNT BEFORE ADDING ROCKS
THUMP3:	.BLKB 1			;STARTING VALUE FOR THUMP2
SHLDENG:.BLKB NMSHIP		;ENERGY LEFT IN SHIELDS
LSHLDENG:.BLKB NMSHIP		;"LOWER
CSPEED:.BLKB NMCOMET		;SPEED OF COMETS
KSPEED:	.BLKB NMKLMINES		;SPEED OF KILLER MINE
CANGCH:	.BLKB NMCOMET		;CHANGE IN ANGLE (LOW) FOR COMETS MINES
KANGCH:	.BLKB NMKLMINES		;CHANGE IN ANGLE (LOW) FOR KILLER MINES
CANGLH:	.BLKB NMCOMETS		;MSB ANGLE OF COMET

KANGLH:	.BLKB NMKLMINES		;MSB ANGLE OF KILLER MINE
ANGLE:	.BLKB NMSAUCER		;ANGLE OF ROTATION OF SAUCER
SANGLE:	.BLKB NMSHIPS		;ANGLE OF SHIPS ORIENTATION
CANGLL:	.BLKB NMCOMETS
KANGLL:	.BLKB NMKLMINES		;LSB ANGLE OF KILLER MINE
BANGLE:	.BLKB 1			;BAR ANGLE
BANGLL:	.BLKB 1			;BAR ANGLE LOWER
OBJXH:	.BLKB TOTOBJ		;X POSITION OF OBJ (HIGH ORDER) (00099999)
OBJYH:	.BLKB TOTOBJ		;Y POSITION OF OBJECT (HIGH ORDER)(00099999)
ISNSP2:	.BLKB 1		;INITIAL SPEED
SNDBA2:	.BLKB 1			;BASE
SNDSP2:	.BLKB 1			;SPEED
SPARKANGLE:	.BLKB NMSPARK
OBJXL:	.BLKB TOTOBJ		;X POSITION OF OBJECT (LOW ORDER)(99999.BBB)
OBJYL:	.BLKB TOTOBJ		;Y POSITION OF OBJECT (LOW ORDER)(99999.BBB)
UWBAR:	.BLKB 1			;BAR ROTATION SPEED UPPER
LWBAR:	.BLKB 1			;BAR ROTATION SPEED LOWER
BXINCL:	.BLKB 1			;BAR CENTER OF MASS XINC LOWER
BYINCL:	.BLKB 1			;BAR CENTER OF MASS YINC LOWER
PRTDAMAGE:.BLKB NMSHIPS		;PARTIAL DAMAGE IF NON ZERO
COLLIS:	.BLKB NMSHIP		;LAST OBJECT THIS SHIP HIT. A1 IS SHIFTED INTO MSB EACH FRAME
STRADDLE:	.BLKB 1		;D7 (STRADDLE X) D6 (STRADDLE Y)
COMOFF:	.BLKB 1		;-1 WHEN COMETS TO GO OFF SCREEN
	
;TEMPORARIES
OWNER:	.BLKB 1			;WHO GETS POINTS (0,1),NEGATIVE FOR NOBODY
COMTYP:	.BLKB NMCOMETS		;DWARF (0), COMET (80)
COMSTART:.BLKB NMSHIPS		;WHERE TO START SEARCH FOR OPEN COMET
PROBCOMET:.BLKB NMSHIPS		;PROBABITLITY STARTS AS COMET
DWFRMP:	.BLKB NMSHIPS		;DWARF RAMPING SPEED
SCSHSP:	.BLKB NMSHIPS		;SAUCER SHOOTING SPEED (80=FAST)
XINCROT:.BLKB 1			;TEMPORARIES
YINCROT:.BLKB 1
XPOSSAVE:.BLKB 1
YPOSSAVE:.BLKB 1
SHHIGH:	.BLKB 1		;SHOW HIGH SCORE-IF NOW ZERO
FREXPLOSION:.BLKB 1		;EXPLOSION SOUND
MXRTIMER:.BLKB NMSHIPS		;MAXIMUM ROCK TIMER
NWCACH:	.BLKB NMSHIPS		;NEW PLANET CHANGE ANGLE
NWCSPD:	.BLKB NMSHIPS		;NEW COMET SPEED
FCACH:	.BLKB NMSHIPS		;FIRST COMET CHANGE
FCSPD:	.BLKB NMSHIPS		;FIRST COMET SPEED
WAVE:	.BLKB 1			;USED FOR BONUS POINTS
GTIME:	.BLKB 4		;GAME TIME USING INTERRUPTS
BCOMSTART:	.BLKB NMSHIPS
NCOMET:	.BLKB 1		;NUMBER OF COMET
COMTIMER:	.BLKB 1		; HOW MUCH LONGER COMETS CAN STAY ACTIVE
				; FOR RUSH AT END OF WAVE
COMLIMIT:	.BLKB 1		;LIMIT ON COMETS
LNGTIMER:	.BLKB 2		; LONG TIMER, IF NEGATIVE THEN SAUCERS
				; COME OUT EVEN IF ROCKS, SHOOT FAST, OFTEN
WHOSHOT:.BLKB NMSHIPS		; WHO SHOT THIS SHIP (0=OPPONENT,FF=COMPUTER)
NENTCOMETS:	.BLKB 1		;NUMBER OF COMETS TO ENTER AT END OF WAVE
NENTDWARF:	.BLKB 1		;NUMBER OF DWARFS TO ENTER AT END
ETARGET:.BLKB NMSAUCER		;WHICH SHIP THE SAUCER IS TO TARGET;-1 FOR INACTIVE
CTARGET:.BLKB NMCOMETS		;WHICH OBJ TO TARGET FOR COMETS
KTARGET:.BLKB NMKLMINES		;WHICH OBJ TO TARGET FOR KILLER MINES
SPARKTIME:.BLKB 1		;DECREASING TIMER FOR SPARK BETWEEN SHIPS
				;80=NEGATIVE FOR NO SPARK
IANGLE:	.BLKB NMSHIP		;BUFFER FOR SHIPS ANGLES
LMONHITS:	.BLKB NMSHIPS		;HOW MANY TIMES THIS PLAYER KILLED A MONSTER
UMONHITS:	.BLKB NMSHIPS
ASTERS:		.BLKB 8		;ROCK ROTATIONS
HSCFLG:	.BLKB 1			;FLAG TO INDICATE GETTING INITIALS TO SOUND ROUTINE
;RODSTATUS, SINCE IT IS USED ONLY DURING MOTION, MAY NOT NEED A RESERVED BYTE
RODSTATUS:	.BLKB 1		;POSITIVE IF NEED TO DRAW (OR REDRAW) THE ROD.
;RAM PAST HERE SHOULD BE SAVED
SAVBOT:
LASTGAM:.BLKB 1			;USED TO DEBOUNCE GAME SELECT
PL0SCFLAG:	.BLKB 1		;(MINUS SIGNIFIES THIS SCORE HAS BEEN CHANGED
PL1SCFLAG:	.BLKB 1		;MINUS AND V CHAR MEANS LIVES HAVE BEEN CHANGED)
CMBSCFLAG:	.BLKB 1
UPDOWN:	.BLKB 1			;NEGATIVE FOR UPSIDE DOWN VECTORS AND MESSAGE

SECOND:	.BLKB 1			;1 SECOND TICKS
FLASHCOL:	.BLKB 1			;FLASH COLOR
ENTER:	.BLKB 2			;ENTRY EFFECT TIMERS
SFREQ:	.BLKB 1			;OUTPUT FREQ OF HUM
SPFLG:	.BLKB 1			;FLAG FOR SPECIAL INITIALS
				;SAME AS UPDFLG
FLSFLG:	.BLKB 2			;FLASH LAST ENTERED INITIALS
SAUCIX:	.BLKB 1
STRTLOK:	.BLKB 1		;START BUTTON LOCKOUT
				;0=GAME IN PROGRESS
				;80=NO STARTS ALLOWED
				;40=SELECT PUSHED...STARTS OK
EXPDEC:	.BLKB 2			;EXPLOSION SELECTION
				;- = SHOW BOTH EXPLOSION
				;+ = ONLY PIECES
SUPRSAC: .BLKB 1		;SUPER SAUCER FLAG (80=SUPER)
SUPRTIM: .BLKB 1		;SUPER SAUCER SHOT TIME
SUPRDIS: .BLKB 1		;SUPER SAUCER DISTANCE
LASTG:	.BLKB 1			;LAST GAME PLAYED FLAG
NEXTEX:	.BLKB 1			;FAN FARE EXPLOSIONS
SPECEX:	.BLKB 1			;SPECIAL FAN FARE FLAG
INTEN:	.BLKB 1			;INTENSITY PULSE BYTE 
				;TOP 4 BITS OF FRAME IN BOTTOM NIBBLE
MODNUM:	.BLKB 1			;MODULO NUMBER
DIFSW:	.BLKB 1			;DIFF SWITCH READING (FOR DISPLAY)
;RELATIVE OBJECT NUMBER
;  DOES NOT WORK TO SAY OBSHIP-OBJ WHEN ONE IN ZERO PAGE
ZCOMET	=NMROCKS
ZKLMINES=ZCOMET+NMCOMETS
ZSAUCER=ZKLMINES+NMKLMINES
ZSHIP=ZSAUCER+NMSAUCERS
ZPAIR=ZSHIP+NMSHIPS
ZMINES=ZPAIR+NMPAIR
ZMINE	=ZMINES
ZSHOT	=ZMINES
ZCOMINES=ZMINES
ZP0MINES=ZCOMINES+NMCOMINES
ZP1MINES=ZP0MINES+NMP0MINES
ZLAST=ZP1MINES+NMP1MINES-1
ZCXBAR=ZLAST+1
ZLENEMY=ZSHIP-1

;RELATIVE TO SHIP
ZZPAIR	=ZPAIR-ZSHIP
ZZMINES  =ZMINES-ZSHIP
ZZCOMINES=ZCOMINES-ZSHIP
ZZP0MINES=ZP0MINES-ZSHIP
ZZP1MINES=ZP1MINES-ZSHIP
ZZCXBAR=ZCXBAR-ZSHIP
;RELATIVE TO SAUCER
ZZZSHIP	=ZSHIP-ZSAUCER
BXINC	=XINC+ZPAIR		;BAR CENTER OF MASS XINC UPPER
BYINC	=YINC+ZPAIR		;BAR CENTER OF MASS YINC UPPER
;OTHER EQUATES
MAXSPEED	=3F		;MAXIMUN SPEED ABSOLUTE VALUE
;USED FOR APPROXIMATE REFLECTION IN CPYVEC

REFLMASK=1C			;TO ONES COMPLEMENT A VECTOR
;CONSTANTS USED IN TOGGLE
SHLDON	=80
	
MINSHENG=018			;MIMIMUM UPPER SHIELD ENERGY
BGSHENG	=0F0
;CONSTANT USED IN COLIS
COLBIT	=80			;A MESSUP BIT SHIFTED IN EACH FRAME
THRENG	=0F0*2			;THRUST ENERGY FOR ROTATE PAIR
ROTENG	=40.			;ROTATIONAL ENERGY
TWOPI	=6
FOURPI	=13.
XRIGHT	=20			;RIGHT SIDE OF SCREEN
YTOP	=18			;TOP OF SCREEN
ENTZON	=4		;HOW MUCH ROOM TO LEAVE WHEN ENTERING ROCKS
				;SO WHEN ADDING A RANDOM VLAUE DO NOT GO PAST EDGE
				;READY TO COME BARK WHEN INCREMENTED TO 80
SHPALIVE	=2		;VALUE FOR SIP WHEN ALIVE
MAXGAME	=3			;MAXIMUM AME NUMBER (INTERNAL GAME NUMBERS ARE
				;ONE LESS THEN ON SCREEN (0,1,..., MAXGAME)
MXPTDAMAGE=80			;MAXIMUM PARTIAL DAMAGE (NEGATIVE GOING)

MXSPKTIME=060			;MAXIMUM SPARK TIME (THEN OTHER SHIP DIES)
;GAME EQUATES
ALONEGAME=1			;ONE SHIP ONLY
TWINGAME=3			;SPACE STATION, ONE PLAYER CONTROLS BOTH
LANGBTS	=30			;LANGUAGE BITS
;COMET EQUATES
IGENDING	=40		; INITIAL GAME ENDING VALUE
HSBIT	=4
; SPECIAL DEFINING FOR A WHILE
.=VECRAM+290
; BUILD ROCKS HERE
VROCK1:	.BLKB 2			;JMPL TO PROPER ROCK PICTURE
CVR11:	.BLKB 4			;1ST COLOR INST AND RTSL
CVR12:	.BLKB 4			;2ND   "    "    "   "
CVR13:	.BLKB 4			;3RD   "    "    "   "
VROCK2:	.BLKB 2			;JMPL TO PROPER ROCK PICTURE
CVR21:	.BLKB 4			;1ST COLOR INST AND RTSL
CVR22:	.BLKB 4			;2ND   "    "    "   "
CVR23:	.BLKB 4			;3RD   "    "    "   "
VROCK3:	.BLKB 2			;JMPL FOR PYRM
PYR11:	.BLKB 4			;COLOR AS ABOVE BUT FOR PYRM
PYR12:	.BLKB 4
PYR13:	.BLKB 4
VROCK4:	.BLKB 2			;JMPL FOR CUBE
VROCK5:	.BLKB 2			;ROCKS 4,5,6,7,8 WILL USE ABOVE COLORS
VROCK6:	.BLKB 2
VROCK7:	.BLKB 2
VROCK8:	.BLKB 2
;
;DYNAMIC SAUCER PICS COLOR AND RTSL INSTRUCTIONS
;
SAU11:	.BLKB 4
SAU12:	.BLKB 4
SAU13:	.BLKB 4
;
SPARKB:	.BLKB 20	;SPARK BUFFER
PL0SET=VECRAM+300
PL1SET	=VECRAM+30A
CMBSET	=VECRAM+314
CMSBSET =VECRAM+342			;SPECIAL INVERTED COMB SCORE
;INSIDE OF VGRAM WILL HAVE
;SOME VECTOR CODE THAT WILL BE JSRLD TO
;THE ONLY CRITICAL PAIRING IS HSAREA
;WHICH IMMEDIATELY PRECEDES PL0AREA
;2 FOR HIGH SCORE SET UP 10 FOR DIGITS
;2 FOR GAME SET UP 4 FOR DIGITS
PL0AREA=VECRAM+380
PL1AREA=VECRAM+3C0
CMSBAREA =VECRAM+736
CMBAREA=VECRAM+780
	.=VECRAM+700
SH0XPCOORD:	.BLKB 4*NMXPLPIECES		;EXPLOSION PICTURE COORDINATES
						;(Y LSB,Y MSB,X LSB,X MSB)
SH1XPCOORD:	.BLKB 4*NMXPLPIECES	;EXPLOSION PIC COORD
					;(Y LSB, Y MSB, X LSB, X MSB)
...SCAL	=1			;DESAULT SCALE
	..TASS=1/2		;TEST MACRO
.BRITE	=5			;VECTOR BRIGHTNESS
.BRITR	=.BRITE+2
.SHPSC	=1			;SHIP SCALING FACTOR
	.RADIX 10
	.=VECROM

;THE SHIP TABLES COMBINED ARE
;NOT TO BE MORE THAN ONE PAGE
SHIPS:
	.CSECT MULTB
	.RADIX 16
MULTBL:
	MULBLD
	.CSECT EXPIC
EXPPIC:	JSRL	EXP9
	JSRL	EXP10
	JSRL	EXP11
	JSRL	EXP12
	JSRL	EXP13
	JSRL	EXP14
	JSRL	EXP15
	JSRL	EXP16
EXPSP:	JSRL EXP9+2		;SO NO COLOR INCLUDED
	JSRL EXP10+2
	JSRL EXP11+2
	JSRL EXP12+2
	JSRL EXP13+2
	JSRL EXP14+2
	JSRL EXP15+2
	JSRL EXP16+2
	.CSECT ROCKDAT
CKUM4::	.BYTE 089
ROCKA::	.WORD VROCK1,VROCK2,VROCK3,VROCK4
	.WORD VROCK5,VROCK6,VROCK7,VROCK8
RSOURC::
	.IRPC X,<0123>
	JMPL ROCK'X'1
	JMPL ROCK'X'2
	JMPL PYRM'X'1
	JMPL CUBE'X'1		;(FUTURE CUBE PLACE)
	JMPL STAR'X'1
	JMPL PENT'X'1
	JMPL PLN'X'1
	JMPL HEXA'X'1
	.ENDR
	
ROCKSA::JSRL VROCK1
	JSRL VROCK2
	JSRL VROCK3
	JSRL VROCK4
	JSRL VROCK5
	JSRL VROCK6
	JSRL VROCK7
	JSRL VROCK8
ROCPIC:
;PIC SELECT BITS FOR OBJ BITS 3,4,5 ARE SELECT
	.BYTE 0		;SPINNERS
	.BYTE 8		;SPINNERS OPPISITE DIR
	.BYTE 10	;OCTEHEDREONS
	.BYTE 18	;CUBES
	.BYTE 28	;"HAT BOX"
	.BYTE 30	;"BOOK"
	.BYTE 20	;STARGON
	.BYTE 38	;HEXARAHEADON
	.SBTTL MAIN LINE LOOP
	.RADIX 16
	.ASECT
	.=4000
CKUM2::	.BYTE 055			;CHECKSUM FOR 4000
ATARI:	.BYTE 2,0BB,05A,30,5F,0EE,07D,0A8
;COPYRIGHT 1980 ATARI
	JMP POWERON
START:	JSR INIT		;INITIALIZE PLAYER 1 FOR START OF GAME
START1:	JSR NEWAST		;START UP NEW ASTEROIDS
START2:

5$:	JSR GTOPTN
	LDA STSTSW		;CHECK FOR SELF TEST
	AND #STSTBIT
	BNE 6$
	JMP STESTA		;GO DO SELF TEST
6$:	BIT HALT
	BVC 6$
	JSR ROTAST
8$:	LSR SYNC
	BCC 8$			;NOT 1/60 SEC YET
	STA A,WTCHDG
	LDA FRAME		;MOVE FLASH COLOR POINTER
	AND #0F
	ORA #0E0		;FULL BRIGHT ON FLASH
	STA FLASHCOL
	LDX #1
9$:	LDA X,ENTER
	BEQ 10$			;NO TOUCH
	CLC
	ADC #02
	STA X,ENTER
	BNE 10$			;NOT FULLY BACK
	LDA #40			;GIVE AN 8 SECOND BONUS...
	JSR LONGTIMER
10$:	DEX
	BPL 9$
	LDA VECRAM+1		;SWAP BUFFERS AND...
	EOR I,2
	STA VECRAM+1
	STA GOADD		;GO
11$:	LDA A,VECRAM+1		;PICK BUFFER TO BUILD IN
	LDX I,VECRAM/100
	AND I,02
	BNE 12$			;USE LOWER BUFFER
	LDX I,VECRAM/100+04	;USE UPPER BUFFER
12$:	LDA I,VECRAM&0FF+2
	STA VGLIST
	STX VGLIST+1		;RESET VECTOR LIST POINTER
	.SBTTL	ADD SPOT KILLER
	LAL WNDSE9
	LXH WNDSE8		;SPOT KILLER
	JSR VGADD2
	LDA ATRACT		;0=ATTRACT
	ORA $$CRDT		;OR ANY CREDIT
	ORA $CNCT		;OR ANY COINS
	BNE 14$
	LDA UPDFLG
	AND UPDFLG+1		;NOT DURING INITIAL ENTRY EITHER
	BPL 14$
	LAL ASTMG9		;COPYRIGHT MSG
	LXH ASTMG8
	JSR VGADD2
; ADD BONUS MESSAGE
	LDA BONLVA		;BONUS LEVEL OBTAINED IN 'GTOPTN'
	BEQ  14$
	PHA
	LDA #-36
	LDX #-3E		;POSITION FOR MESSAGE
	JSR MESGPOS
	LDY #0E
	LDA #BLUE+0E0
	JSR VGMSG4
	PLA
	STA TEMP1+1		;SAVE BONUS AMOUNT
	LDA #0
	STA TEMP1		;FOR DISPLAY
	SEC			;ZERO SUPRESSION
	LDA #TEMP1		;PAGE 0 POINTER
	LDY #2			;2 ZERO PAGE LOCATIONS
	JSR DIGITS		;DISPLAY LEVEL
	LDA #0
	JSR VGHEX		;ADD ANOTHER 0
14$:	JSR CHKST		;CHECK FOR START

	BCC 15$
	JMP START		;BUTTON PUSHED-START OVER
15$:	LDA ATRACT
	BNE 20$
	JSR GETINT		;GET INITIALS FOR ANY NEW HIGH SCORE
	BCC 55$			;NOT DONE YET
	JMP 5$			;DONE---RESTART EVERYTHING
55$:	LDA UPDFLG
	AND UPDFLG+1
	BPL 60$
	LDA SHHIGH		;FORCE DISPLAY OF HIGH SCORES
	BNE 13$
	LDA $$CRDT
	ORA $CNCT		;ANY COINS OR CREDITS?
	BNE 60$			;IF YES...NO TABLE NEEDED
13$:	JSR SCORES		;DO SCORE TABLE
	BCS 60$			;DOING SCORE TABLE
20$:	BIT TOGDRONE
	BMI 30$			;NOT DO SHIP 1
	LDX I,1
	JSR FIRE		;FIRE SHIPS TORPEDOES
30$:	LDX I,0
	JSR FIRE
31$:	LDX I,1
	JSR MOVE		;MOVE SHIP BY CONTROLS
	LDX I,0
	JSR MOVE
	JSR DOCOMETS
	JSR ONSLAUGHT
	JSR QEND		;QUICK RESTART
	JSR KLMINES		;DO KILLER MINES - FALL INTO "ENEMY" ROUTINE
	JSR MOTION		;MOVE OBJECTS
	JSR DOSHIELD
	JSR COLIDE		;CHECK FOR COLLISIONS
60$:	JSR ENTPARAMS		;DISPLAY SCORE AND OTHER PARAMETERS
	JSR HUM			;HUM?
	JSR VGCNTR		;POSITION BEAM FOR MINIMUM CURRENT
	JSR VGHALT		;ADD HALT TO VECTOR LIST
	JSR SPARK2		;MOVE THE SPARKS
	JSR FRCALC
	LDA RDELAY
	BEQ 70$			;NO DELAY TO DECREMENT
	DEC RDELAY
	BNE 80$
70$:	LDA ATRACT
	IFMI			;IF NOT ATRACT
	LDA $CMODE
	AND #03			;FREE PLAY??
	IFEQ			;YES IF 0
	BIT TWOCMN		;FREE PLAY AND 2 COIN MIN?
	IFVS			;YES
	LDA GAMSEL
	ASL
	ROR LASTGAM		;DEBOUNCE SWITCH
	IFCS			;WAS PRESSED 9 AGO
	IFEQ
	LDA #-10
	STA NROCKS		;FORCE TO NEXT WAVE
	ENDIF
	ENDIF
	ENDIF
	ENDIF
	ENDIF
	LDA NROCKS
	BMI 75$		;INCASE IT GOES PAST 0
	BNE 80$			;LOOP FOR NEXT PASS
75$:	BIT ATRACT		;ATTRACT PLAY?
	BMI 76$			;NO
	LDA FRAME+1
	AND #03
	CMP #03			;ONLY BUMP IF HELD AT 3
	BNE 80$
	INC FRAME+1		;FORCE TO NEXT STAGE
76$:	JMP START1		;START NEW SET OF ASTEROIDS
80$:	JMP START2
	.SBTTL CHKST-CHECK FOR START/END OF GAME
;CHKST	-CHECK FOR START/END OF GAME
;
;EXIT	(C)=SET IF STARTING A NEW GAME
CHKST:

	.SBTTL CKSWITCHES-CHECK SWITCHES
5$:
	LDA ATRACT
	BEQ 10$			;GAME NOT IN PROGRESS
	LDA GENDING
	BNE 6$			;STILL ENDING
	JMP CHKST1		;GAME IN PROGRESS
6$:	INC GENDING
	BEQ 7$			;NOT OVER YET
	LDA #0E4
	LDX #04
	JSR MESGPOS		;POSITION MESSAGE
	LDY I,7			;GAME OVER MESSAGE
	STY UPDOWN		;NORMAL MESSAGE ALWAYS
	JSR VGMSG
	LDA #0
	STA COMTIMER		;END ONSLAUGHT
	LDA #0FF		;SHOW HIGH SCORES ONCE
	STA SHHIGH
	CLC			;NO NEW GAME
	RTS			;(EXIT)
7$:	JSR INISOU		;TURN OFF SOUNDS
	JSR BIGBANG		;REMOVE ALL
	LDA UPDFLG
	AND UPDFLG+1
	BMI 65$
	JSR GATES		;HIGH SCORE SOUND
	LDA #0
	STA SPECEX

65$:	LDA I,0
	STA ATRACT
	STA RDELAY
	STA SCRFUL		;ALLOW ROCKS BACK
	STA SDELAY
	STA SDELAY+1
	STA OBSHIP
	STA OBSHIP+1
	CLC
	RTS
	.SBTTL	ATTRACT LOOP CHECKS
10$:	LDA $$CRDT
	ORA $CNCT			;NOT IF CREDIT OR COINS
	ORA FRAME			;THIS MUST BE 0 TOO
	BNE 3$
	LDA FRAME+1
	AND #<HSBIT*2>-1
	EOR #02
	BNE 3$			;MUST ALSO BE 0
	LDY #0
	JSR NXTSTEP		;STEP TO NEXT GAME
	BEQ 4$
	CMP #2
	BCC 4$
	LDY #80
4$:	STY TOGCOMB
	JSR GTOPTN		;READ OPTION SWITCHES AND GET LIVES
	LDA #20			;MAKE SHIP APPEAR
	STA SDELAY
	STA SDELAY+1
	LDA #80
	STA SCSHSPEED		;WANT SAUCERS MAD
	STA SCSHSPEED+1
	LDA #0
	STA OBJ+ZSHIP		;TURN OFF OLD SHIP
	STA OBJ+ZSHIP+1
	STA IANGLE			;POINT STRAIGHT UP
	STA IANGLE+1
3$:	LDY $USE		;STILL DOING COINR ROUTINE?
	BMI 11$			;NOPE--NOT IF MINUS
	LDA I,LOCKIN
; LIMIT CREDITS TO TEN
	LDY $$CRDT
	CPY I,18.
	BCC 1$			; NOT LIMITED YET
	LDY I,18.
	STY $$CRDT
11$:	LDA I,LOCKOUT
1$:	STA $LOCKCOIL
	LDA SHHIGH
	BEQ 8$
	DEC SHHIGH		;FORCE DISPLAY OF HIGH SCORES
8$:	LDA I,0			;DEFAULT TO SELL PLAYERS
	STA TEMP5
	STA KLMOFF		;FOR ATRACT
	LDY I,8
;DECIDE IF CHARGING GAMES
;PER CREDIT OR PLAYERS PER CREDIT
	BIT SELLGAME
	BVC 12$			;SELLING GAMES????
	DEC TEMP5		;IF POSITIVE
12$:	INY			;CHARGE BY THE PLAYER
	SEI
	STA POTGO+POKEY2
	LDA ALLPOT+POKEY2
	CLI			;INTERRUPTS OK NOW
	EOR #02			;CORRECT FOR ALL OFF
	STA $CMODE
	AND I,03
	BNE 35$
	LDA #02			;FREE PLAY
	STA $$CRDT
	STA $TCMFLF		;NO 2 COIN MIN
	BNE 15$
35$:	CLC
	ADC I,07
	BIT TEMP5
	BPL 9$
	ADC #0D			;COIN MODE MESSAGE
9$:	TAY
	LDA #YELLOW+0C0
	STA TEMP9
80$:	BIT TWOCMN		;2 COIN MINIUM
	IFVS
	LDA $$CRDT
	IFEQ
	LDA #80
	STA $TCMFLG
	ELSE
	CMP #01
	BNE 82$			;EASY WAY OUT
	ENDIF			;1 CREDIT IF HERE
	BIT $TCMFLG
	BPL 83$			;1 CREDIT, MIMIMUN SATIFIED
	LDA FRAME
	AND #20
	IFEQ
	LDY #12			;ALT MESSAGE
	LDA #RED+0C0
	STA TEMP9
	ENDIF
	ELSE
82$:	LDA #0
	STA $TCMFLG		;DON'T ALLOW THIS TO HAPPEN
83$:	LDA FRAME
	AND #20
	BNE 15$			;HERE WE FLASH THE MESSAGE
	ENDIF
81$:	LDA UPDFLG
	AND UPDFLG+1	
	BPL 15$			;IF UPDATING INITIALS
	LDA SHHIGH		;SKIP WHILE HIGH SCORE TBL
	BNE 15$
	TYA
	PHA			;SAVE Y FOR LATER
	LDA #0D3
	LDX #49
	JSR MESGPOS
	LDX #0			;OFFSET FOR LANGUAGES
	JSR LANGOFF
	LDX TEMP9
	PLA
	TAY			;RESTORE Y
	JSR VGMSG3
15$:	LDY $$CRDT
	BNE 16$			;NO CREDIT-NO PLAY
	LDY $CNCT		;ANY COINS???
	BEQ 14$			;NOPE--END
	JMP 47$			;GO DO GAME DISPLAY
14$:	LDA $LOCKCOIL
	ORA #30			;TURN OF LIGHTS
	STA $LOCKCOIL
	CLC
	RTS
16$:	LDA GAMSEL
	ASL
	ROR LASTGAM		;DEBOUNCE GAME SELECT SWITCH
;
17$:	;CHECK START BUTTON
	BIT STRTLOK		;LOCKED OUT (NO SELECT YET)?
	BMI 40$			;YEP
	BIT $TCMFLG
	BMI 40$			;STARTS LOCKED OUT
;HAVE AT LEAST 1 CREDIT AT THIS POINT
	BIT STRT1			;START PUSHED
;
;NOTE: THE GAME SELECT LOGIC WILL NOT ALLOW A
;GAME TO BE SELECTED THAT SUFFICIENT CREDIT IS NOT PRESENT FOR.
;SO ONLY NEED TO DETERMIN HOW MANY CREDITS TO REMOVE

;
	BVC 40$			;NO START
	BIT TEMP5			;THIS IS MINUS IF SELLING GAMES
	BMI 20$
	LDA GAME			;SELLING PLAYERS......HOW MUCH THIS COST?
	LSR				;ODD GAMES ARE 1 PLAYER GAMES
	BCS 20$
	DEC $$CRDT			;COST 2 CREDITS...THIS IS 2
20$:	DEC $$CRDT			;AND THIS IS ONE!!!!!!
	LDA $LOCKCOIL			;TURN ON START LAMP
	AND #0DF
	STA $LOCKCOIL
	LDA #0
	STA STRTLOK			;RESET START LOCKOUT FLAG
	STA SPECEX			;IN CASE THIS WAS ON
	LDA #0FF
	STA FLSFLG		;NO NEW HIGH SCORES
	STA FLSFLG+1
	LDA GAME
	STA LASTG		;SAVE LAST GAME
	JSR GTOPTN		;SET DIFF LEVEL FOR THIS GAME
	SEC			;SIGNIFY STARTING OF NEW GAME
	RTS
	
40$:
;SEE IF NEW GAME SELECTED
	LDA FRAME
	AND #18
	ASL			;FLASH RATE
	BIT LASTGAM
	BPL 43$			;NOT PRESSED
	BVS 43$			;WAS PRESSED LAST TIME
	BIT $TCMFLG		;HOLDING BECAUSE OF THIS NONSENSE???
	BMI 43$
	BIT STRTLOK		;WAS THIS FIRST PRESS OF PUTTON????
	BPL 41$			;NOPE
	LDA LASTG
	AND #03			;JUST IN CASE NOT INITIALIZED
	STA GAME
	JMP 42$
41$:	LDX #0
	STX SHHIGH		;NO HIGH SCORE
44$:
	JSR NXTSTEP		;NEXT GAME
42$:	LDX #40
	STX STRTLOK		;SET PUSHED FLAG
	LDX #0FF
	STX UPDFLG
	STX UPDFLG+1		;ABORT ANT INITIALS
	LDX #0
	STX SHHIGH		;ABORT TABLE
43$:	BIT STRTLOK		;STARTS??
	BPL 46$			;OK TO START
	ORA #20			;NO START LAMP FLASH
46$:	EOR $LOCKCOIL
	AND #30			;1'S MEAN REPLACE WITH ACC
	EOR $LOCKCOIL
	STA $LOCKCOIL
	LDX GAME
	LDA X,TTPLAYR		;NUMBER OF CREDITS REQUIRED FOR THIS GAME (1,2)
	BIT TEMP5
	BMI 45$			;BY THE GAME
	CMP $$CRDT
	BEQ 45$			;EXACTLY ENOUGH
	BCC 45$			;ENOUGH CREDIT
	JSR NXTSTEP		;NEXT GAME
	BCS 46$			;*********ALWAYS*************
45$:	LDY I,11.			;ONE PLAYER
	LSR			;ACC 0 FOR 1 PLAYER
	BEQ 47$
	INY
47$:	LDA SHHIGH
	BNE 59$			;SHOWING HIGH SCORE
	LDA UPDFLG
	AND UPDFLG+1
	BPL 59$			;NO DISPLAY IF INITIALS
	JSR NAMSEL		;DISPLAY GAME SELECT
59$:	CLC
	RTS			;(EXIT)
;"ONE OR TWO PLAYER"
NAMES:	.BYTE 11,11,12,12
	.PAGE
	.SBTTL	CHECK FOR END OF GAME
CHKST1:
;CHECK FOR END OF GAME
8$:	LDA HITS+1
	ORA HITS		;ANY HITS LEFT???
	ORA OBSHIP		;STILL LIVING????
	ORA OBSHIP+1
	BNE 90$
	LDA GAME		;COMPETITIVE?
	BNE 20$			;NOPE
	LDA PRTDAMAGE
	AND PRTDAMAGE+1
	BPL 90$			;ONE NOT DAMAGED
20$:	LDA GENDING
	BNE 90$			;GAME ALREADY ENDING
;THIS NOT NEED IF TIME OF GENDING IS OK
;SEE THAT ALL PLAYER MINES TIMED OUT
	LDX I,NMP0MINES+NMP1MINES-1

10$:	LDA X,OBJ+ZP0MINES
	BNE 90$			;GAME STILL GOING
	DEX
	BPL 10$
	JSR ROCKINI		;SLOW DOWN ROCKS
	LDA #1
	STA WAVE		;BACK TO WAVE 1
	LDA I,0
	STA SCRFUL		;LET ROCKS COME BACK
	LDX I,IGENDING
	LDA UPDFLG
	AND #UPDFLG+1		;INITIALS??
	BMI 17$			;NO
	LDX #IGENDING/4		;LONGER STILL
17$:	STX GENDING		;NO MORE SHOTS BUT COUNT THOSE THAT ARE STILL GOING
	LDA #80			;NO STARTS
	STA STRTLOK		;SET NO STARTS ALLOWED
	JSR BOOK
	JSR UPDATE		;CHECK FOR NEW HIGH SCORE
	LDA I,0
	STA $USE		;START COIN ROUTINE
90$:	CLC
	RTS
	.SBTTL	STEP TO NEXT GAME
NXTSTEP:
5$:	LDX GAME
	LDA X,NXTGAM		;WHICH GAME IS NEXT??
	STA GAME		;NEXT
	BIT CABERET		
	BVC 10$
	LSR			;CABERET -- GAMES 1 AND 3 ONLY
	BCC 5$
10$:	RTS
;TABLE OF GAME ORDER
NXTGAM:	.BYTE 1,3,0,2
	.PAGE
	.SBTTL COLIDE-COLLISION DETECTOR

;RUN X DOWN FROM LAST OBJECT TO SHIP 0.
;RUN Y DOWN FROM ONE BELOW X TO BOTTOM OF ROCKS
;CHECK FOR COLLISION BETWEEN ACTIVE OBJECT X AND Y
;ASSUMES LESS THAN HEX 80 OBJECTS

;USES(TEMP1, TEMP1+1),(TEMP2, TEMP2+1)
;(TEMP3,TEMP3+1)
;TO REMEMBER X AND Y AS TEMPORARIES
COLIDE:
	LDX I,ZLAST
10$:	LDA X,OBJ
	BEQ 13$			;IF INACTIVE TORPEDO
	BPL 16$			;NOT CHECK IF MINUS (EXPLODING)
13$:	DEX
	CPX I,ZSHIP-1		;STOP X AT SHIP0
	BNE 10$
14$:	RTS			;(EXIT)
	
;GET STARTING Y FROM TABLE
16$:	LDY X,125$-ZSAUCER
	LDA GAME
	BNE 19$
	LDY X,126$-ZSAUCER	;FOR COMPETITIVE, USE DIFFERENT STARTS
19$:	DEY
;PUTTING KILLERMINES PHYSICALLY AFTER
;ROCKS. SAVE ABOUT 1MS PER FRAME
	BMI 13$
;MAY WANT TO DO THE CHECK AFTER
;PRELIMINARY CULLING IN ORDER TO HELP WORST CASE
	LDA Y,OBJ
	BEQ 19$			;IF INACTIVE
	BMI 19$			;IF AN EXPLOSION
;BY ADDING A PRELIMINARY BIT OF CODE
;CAN SIGN GREATLY IMPROVE THE COLLISION
;DETECT TIME, ASSUMING COLLISIONS ARE
;RANDOMLY DISTRIBUTED.
;EXPECT TO SAVE APPROXIMATELY 18 CYCLES PER
;COLLISION PAIR
	LDA Y,OBJXH
	SEC
	SBC X,OBJXH
;NOW THE ONLY RESULTS WE WANT TO ACCEPT ARE (-2,-1,0,1,2)
;THE CARRY WAS CLEAR FOR RESULT -1, SET FOR 0, 1
;REMEMBER THAT THESE NUMBERS RANGE ONLY FROM
;0 TO 20 HEX
	SBC I,3
;FOR RESULT 0 EXPECT ACC OF (-3);
;FOR RESULT 1 EXPECT ACC OF (-2); 2 GOES TO -1
;FOR RESULT -1 EXPE T ACC OF (-5); -2 GOES TO -6
;ALL OTHER POSITIVE VALUE HAVE POSITIVE ACC
;ALL OTHER NEGATIVE VALUES ARE BETWEEN 7C AND -7
	CMP I,-6
	BCC 19$			;TOO FAR
;NOTICE THAT CARRY IS SET!
	LDA Y,OBJYH
	SBC X,OBJYH
	SBC I,3
	CMP I,-6
	BCC 19$
	LDA Y,OBJXL		;TEST X DIRECTION
;CARRY IS SET
	SBC X,OBJXL
	STA TEMP1		;STORE LOW X DIFFERENCE
	LDA Y,OBJXH
	SBC X,OBJXH
	LSR
	ROR TEMP1		;DIVIDED BY 2
;TO BE ACCEPTED, THESE
;ORIGINAL HIGH BYTE IS (-2,-1,0,1)
	ASL			;RESET ZERO CONDITION
	BEQ 32$			;IF WITHIN 64.
	EOR I,0FE
	BNE 19$			;TOO FAR AWAY
	LDA TEMP1
	EOR I,0FF
	STA TEMP1		;DISTANCE FROM TORPEDO
32$:	LDA Y,OBJYL
	SEC
	SBC X,OBJYL
	STA TEMP1+1
	LDA Y,OBJYH
	SBC X,OBJYH
	LSR
	ROR TEMP1+1
	ASL			;SET ZERO
	BEQ 35$			;IF WITHIN 64.
	EOR I,0FE
	BNE 19$			;TOO FAR AWAY
	LDA TEMP1+1
	EOR I,0FF
	STA TEMP1+1		;DISTANCE-1 FROM TORPEDO
35$:
36$:
	CPY I,NMROCKS
	BCS 45$			;NOT A ROCK
;DETERMINE SIZE OF ROCKS
	STY TEMP3+1
	LDA Y,OBJ
	AND I,7
	TAY
	LDA Y,115$-1
	LDY TEMP3+1
	BPL 65$			;ALWAYS
45$:	LDA Y,110$-ZCOMET
65$:	CLC
	ADC X,112$-ZSHIP
70$:	CMP TEMP1
	BCC 80$			;NO HIT
	CMP TEMP1+1
	BCC 80$			;NO HIT
	STA TEMP2
	LSR			
	CLC
	ADC TEMP2
	STA TEMP2		;3/2 DISTANCE (NO CARRY IF LESS THAN 172.)
	LDA I,0			; UPPER BYTE OF SUM OF RADII
	ADC I,0			; CARRY IS IMPORTANT THING
	STA TEMP2+1
72$:
	LDA TEMP1+1		;CARRY IS CLEAR
	ADC TEMP1
	STA TEMP1		; LOWER BYTE OF SUM OF X,Y ( MEASURED)
	LDA I,0
	ADC I,0			;ACC IS UPPER SUM
	STA TEMP1+1		; UPPER SUM OF X,Y (MEASURED)
	LDA TEMP2		; LOWER SUM OF 3/2 DISTANCE ALLOWED
	CMP TEMP1		; SETS CARRY FOR 16 BIT COMPARE
	LDA TEMP2+1
	SBC TEMP1+1
	BCC 80$			;CHOP OFF CORNERS-A MISS ON OBJECT
	STX TEMP3
	STY TEMP3+1
	JSR DSTRCT
;IF NOBODY KILLED THEN
;WANT TO START WITH SAME X AND Y
	LDY TEMP3+1
	LDX TEMP3
	LDA X,OBJ		; SEE IF OBJECT STILL ACTIVE (BECAUSE OF SHIELDS)
	BEQ 78$
	BPL 80$
78$:	LDY I,0			;BESURE START WITH NEW X
	
80$:	JMP 19$

;SIZE OF THE Y OBJECTS
110$:	.REPT NMCOMETS
	.BYTE 38
	.ENDR
	.REPT NMKLMINES
	.BYTE 18
	.ENDR

	.REPT NMSAUCER
	.BYTE 20
	.ENDR
;SIZE OF X OBJECTS
112$:	.REPT NMSHIPS
	.BYTE 30
	.ENDR
	.REPT NMPAIR
	.BYTE 0			;PLACE HOLDER
	.ENDR
;WILL NOT NEED THESE IF CHANGE WORKS
	.REPT NMMINES
	.BYTE 0
	.ENDR
;SIZES
115$:	.BYTE 42.,72.,0,132.
;STARTING Y VALUES+1
125$:
	.REPT NMSAUCER
	.BYTE ZSAUCER
	.ENDR
	.BYTE ZLENEMY+1		;SHIP0
	.BYTE ZLENEMY+1		;SHIPS
	
	.REPT NMPAIR
	.BYTE 0			;NOT WANT TO CHECK
	.ENDR
	
	.REPT NMCOMINES
	.BYTE ZSHIP+NMSHIPS
	.ENDR
	.REPT NMP0MINES+NMP1MINES
	.BYTE ZSHIP
	.ENDR
126$:	.REPT NMSAUCER
	.BYTE ZSAUCER
	.ENDR
	
	.BYTE ZLENEMY+1
	.BYTE ZSHIP+1
	
	.REPT NMPAIR
	.BYTE 0
	.ENDR
	
	.REPT NMCOMINES
	.BYTE ZSHIP+NMSHIPS
	.ENDR
	
	.REPT NMP0MINES
	.BYTE ZSHIP+1+1
	.ENDR
	.REPT NMP1MINES
	.BYTE ZSHIP+1
	.ENDR
	
	
	
	
	
	.PAGE
	.SBTTL DSTRCT-DESTRUCTION DURING COLLISION
;DSTRCT-DESTRUCTION DURING COLLISION
;
;ENTRY	(X)=SHIP, SAUCER OR TORPEDO INDEX
;	(Y)=ROCK,KILLERMINE OR SHIP
;TEMP3 IS ENTERING X, TEMP3+1 IS ENTERING Y
;SETS OWNER OF POINTS
DSTRCT:
;SET OWNER OF POINTS. WILL USUALLY DEPEND ON X,
;EXCEPT FOR A FEW CASES WHERE THERE VALUE
;WILL BE OVERRIDDEN
	LDA X,OWNERTABLE-ZSHIP
	STA OWNER
;CHECK FOR X BEING MINE(SHOT)
	CPX I,ZMINES
	BCS 15$			;X WAS A MINE
	JMP DSTR60		;NOT A MINE(SHOT)
15$:	LDA I,0
	STA X,OBJ		;CLEAR SHOT
	CPY I,NMROCK+NMCOMET
	BCS 30$			;Y NOT A ROCK OR COMET
	JMP SPLIT		;(EXIT POINT)
30$:	CPY I,ZKLMINES+NMKLMINES
	BCS 60$			;NOT KILLER MINE
;SET THIS KILLER MINE TO STUN
	LDA I,0			;CAN BE 0
	STA Y,KSPEED-ZKLMINES	;CURRENT SPEED
	STA Y,XINC		;IDLE MOVE
	STA Y,YINC		;IDLE MINE
;	CLC			;******CLEARED ABOVE*******
	LDA Y,KLMINC-ZKLMINES
	ADC #01			;ADD ANOTHE SHOT
	STA Y,KLMINC-ZKLMINES
	CMP #08			;READY TO DIE?
	BCC 35$			;NOPE
	LDA #0
	STA Y,OBJ
	LDA #10			;100 POINTS
	JSR POINTS
	JSR EXPLOS
	JSR INKLMINE		;RESTART ANOTHER
	LDX TEMP3
	LDY TEMP3+1		;RESTORE X & Y
35$:
;ADD SOME POSITION CHANGE EACH
;TIME A SHOT HITS THE KILLER MINE

	LDA X,XINC
	LDX I,0			;FOR SIGN EXTENSION
	ORA I,0			;SET STATUS
	BPL 47$
	DEX
47$:	CLC			;CARRY MAY ALREADY BE CLEAR
	ADC Y,OBJXL
	STA Y,OBJXL
	TXA
	ADC Y,OBJXH
	STA Y,OBJXH
	LDX TEMP3

;SIMILIAR IN Y COMPONENT

	LDA X,YINC
	LDX I,0
	ORA I,0			;SET STATUS
	BPL 49$
	DEX
49$:	CLC
	ADC Y,OBJYL
	STA Y,OBJYL
	TXA
	ADC Y,OBJYH
	STA Y,OBJYH
55$:	RTS			;(EXIT POINT)
60$:
	CPY I,ZSHIP
	BCC 65$			;NOT A SHIP, WAS SAUCER
;NOT SHOOT SELF
63$:	TYA
	SEC
	SBC I,ZSHIP
	CMP OWNER
	BEQ 55$
	LDX TEMP3+1		;TRANSFER COLLISION Y TO X
	JMP PDSTXSHIP		;EXIT
;***************SAUCER HIT************
65$:	LDA X,SAUOWN-ZSHOT	;WHO'S SHOT WAS THIS??
	STA OWNER
	CPY OWNER		; MY SHOT??
	BEQ 67$
	CPX #ZSHOT+NMCOMINES
	BCS 66$
	CPX #ZSHOT	;DID ONE SHOO THE OTHER?
	BCC 66$		;NOPE
67$:	RTS
66$:	LDA #0
	STA SUPRSAC	;CLEAR SUPER SAUCER
;****MAY WISH TO SLOW DOWN SAUCER HERE*******
70$:	JSR UPDIF
	LDX TEMP3+1
	JMP KILXSCR		;(EXIT POINT)
DSTR60:	CPY #ZSHIP
	BCC PDSTXSHIP		;WAS A ROCK OR KILLER MINE OR SAUCER
;DO NOT COLIDE WITH SELF
	JSR BACKOUT
	LDX TEMP3+1		;Y COLLISION OBJECT
	JSR BACKOUT
	LDY TEMP3
	JMP BOUNC8		;BOUNCE THE TWO SHIPS (EXIT POINT)
;SAUCER OWNERSHIP
SAUOWN:	.BYTE 20,20,21,21
;VALUE FOR OWNERSHIP NEGATIVE FOR NOBODY
OWNERTABLE:
	
	.BYTE 00
	.BYTE 01		;SHIPS
	
	.REPT NMPAIR
	.BYTE -1
	.ENDR
	
	.REPT NMCOMINES
	.BYTE -1
	.ENDR
	.REPT NMP0MINES
	.BYTE 0
	.ENDR
	
	.REPT NMP1MINES
	.BYTE 1
	.ENDR
	
;CHECK FOR SHIELD CONDITION. POSSIBLY
;DESTROY SHIP(X)
PDSTXSHIP:
	LDA X,ENTER-ZSHIP	;ENTERING?
	BNE 51$			;IF YES, PRETEND SHIELDS
	LDA X,TOGGLE-ZSHIP
	AND I,SHLDON
	BEQ DSTXSHIP		;SHIELDS WERE NOT ON
;IF HIT THEN DECREASE SHIELD ENERGY
	LDA GAME
	CMP #2			;GAME 2&3, SHIELDS LAST LONGER
	BCC 10$
	LDA X,SHLDENG-ZSHIP
	SEC
	SBC #0C
	JMP 20$
10$:	LDA X,SHLDENG-ZSHIP
	SEC
	SBC I,18
20$:	CMP I,MINSHENG
	BCS 50$
	LDA I,0
50$:	STA X,SHLDENG-ZSHIP
51$:	LDY TEMP3+1		;COLLISION Y
;SEE SECTION SBTTL'ED MESS UP COLLISIONS LATCHES FOR EXPLANTATION
	LDA X,COLLIS-ZSHIP
	AND I,0FF-COLBIT
	STA TEMPA		;OLD COLLISION OBJECT
	TYA
	STA X,COLLIS-ZSHIP	;NEW COLLISION OBJECT
	CPY TEMPA		;COMPARE OLD AND NEW
	BEQ 90$			;DO NOT BOUNCE AGAIN
	BIT TOGCOMB
	BPL 60$			;NOT THE PAIR
	LDX I,ZPAIR
	JSR REVANGULAR
60$:	JSR BOUNCE
90$:	RTS
	.SBTTL DSTXSHIP-DESTROY X,SHIP
;X RELATIVE TO OBJ
;ENTRY THROUGH PDSTXSHIP
DSTXSHIP:
	STX TEMP1		;FOR COMOWAY
	JSR EXPLOS		;EXPLOSION SOUND
	LDA I,0A0		;SET FULL EXPLOSION LENGTH
	STA X,OBJ
	BIT TOGCOMB		;COMBINED LIVES??
	BPL 60$			;NOT COMBINED LIVES
	.SBTTL ***TEMP SPACE STATION COLLISION*******
	LDA X,PRTDAMAGE-ZSHIP
	BMI 98$			;DAMAGED ALREADY????
	LDY X,REVSHIP-ZSHIP		;GET INDEX FOR OTHER SHIP
	LDA Y,PRTDAMAGE-ZSHIP		;DAMAGED
	BMI 98$				;YEP
	DEC X,PRTDAMAGE-ZSHIP		;DAMAGE IT
	LDA #0B8			;PARTIAL DAMAGE COUNT
	STA X,EXPDEC-ZSHIP		;BOTH EXPLOSIONS
	STA X,OBJ
	JSR EXPSET			;INIT EXPLOSION PIECES 
	JMP 62$
98$:	LDA #0
	STA X,EXPDEC-ZSHIP	;ONLY PIC_ECES
	LDA SPARKTIME
	BPL 80$			;ALREADY STARTED DEATH
	DEC SPARKTIME		;START SPARKLE
	BNE 61$			;ALWAYS
;IF PLAYING COMPETITIVE GAME
;THEN ONLY LOSE
;LIVES BY GETTING HIT BY ROCKS
;IF GET HIT BY SHOT, OTHER PLAYER
;GET POINTS
60$:	LDA GAME
	CMP #02
	BCC 62$			;GAMES 0 & 1 DON'T NEED THIS
61$:	BIT ATSTG
	BMI 62$			;SKIP IF BLOCKS TOO
;GET ALL OBJECTS TO MINMUM SPEED
	LDX I,ZLENEMY
66$:	LDA X,OBJ
	BEQ 68$
	LDA X,XINC
	JSR MINVEL
	STA X,XINC
	LDA X,YINC
	JSR MINVEL
	STA X,YINC
68$:	DEX
	BPL 66$
	LDX TEMP1
	LDA I,0FF		;MAY BE A DEC
	STA SCRFUL		;GET ROCKS OFF SCREEN
	BNE 80$			;ALWAYS
;
62$:	LDY TEMP3		; TEMP3 HOLDS ORIGINAL COLLISION X	;OR ELSE SHIP
	CPY I,ZP0MINES
	LDA I,0		; DEFAULT FOR WHOSHOT
	BCC 65$
;WAS HIT BY OTHER PLAYER
;BE DEAD A SHORTER TIME
	LDA I,0E0		;START FLASHING TIME
	STA X,OBJ
	STA X,EXPDEC-ZSHIP		;ONLY FLASH'
	JSR EXPSET
	LDX TEMP1
	LDA I,50			;FULL SHIP VALUE
	LDY X,PRTDAMAGE-ZSHIP
	BPL 63$
	LDA I,25		;CRIPPLED SHIP VALUE
63$:	JSR POINTS
	LDX TEMP1
	LDA I,0FF
	BNE 75$			;ALWAYS
65$:
70$:
;ONLY GIVE PARTIAL DAMAGE WHEN
;HIT BY NON SHIP IN COMPETITION GAME
;MORE NEGATIVE FOR MORE PARTIAL DAMAGE
	DEC X,PRTDAMAGE-ZSHIP
	BMI 75$			;NOT AT LIMIT
	INC X,PRTDAMAGE-ZSHIP
75$:	STA X,WHOSHOT-ZSHIP
80$:	LDA I,0A0
	STA X,SDELAY-ZSHIP
90$:
	JSR COMALT			;POINT ALL OF HIS AT THE OTHER GUY
	LDY TEMP3+1
	JMP SPLIT		;(EXIT)
	.PAGE
	.SBTTL COMAWAY-GET COMET TO GO OFF SCREEN
;GET ALL COMETS POINTED AT THIS SHIP
;OFF OF THE SCREEN
;USES Y, TEMP1
;OUTPUT COMTYP,COMOFF
COMAWAY:
	LDY I,NMCOMETS-1
10$:	LDA Y,COMTYP
	ORA I,1			;DIE AT EDGE OF SCREEN BIT
	STA Y,COMTYP
30$:	DEY
	BPL 10$
	LDA GAME
	BEQ 40$			;NOT FOR TWO FIGHTERS
	LDA I,0FF
	STA COMOFF		;SIGNIFY ONE SHIP HAS DIED.
40$:
	RTS
	.SBTTL	COMALT -- RETARGET COMETS
COMALT:	LDY #NMCOMETS-1
	TXA
	EOR #01			;POINT AT OTHER
	TAX
10$:	LDA Y,CTARGET
	BEQ 30$			;NOT ACTIVE
	TXA			;RECALL NEW
	STA Y,CTARGET
30$:	DEY
	BPL 10$
	RTS
	.SBTTL UPDIF-UP THE DIFFICULTY WHEN A MONSTER IS HIT

;SEES WHO OWNER WAS. (NO ACTION FOR COMPUTER OWNER)
;DESTROYS X
LTMP1	=TEMP1
LTMP1B	=TEMP1+1
DIFTBL:	BADL UPDIF3-1
	BADL UPDIF4-1
	BADL UPDIF5-1
	BADL UPDIF6-1
DIFTBH:	BADH UPDIF3-1
	BADH UPDIF4-1
	BADH UPDIF5-1
	BADH UPDIF6-1
;GAMES	0=2 PLAYER FIGHTER
;	1=1 PLAYER FIGHTER
;	2=2 PLAYER STATION
;	3=1 PLAYER STATION
; THE ABOVE TABLE JUMPS IS USED TO JUMP TO THE PROPER UPDATE ROUTINE
;
;
UPDIF:
	LDX OWNER
	BPL 10$
	RTS			;(EXIT)
10$:	INC X,LMONHITS
	BNE 20$
	INC X,UMONHITS
20$:
;FOR USE IN COMBINED GAMES
	LDA LMONHITS
	CLC
	ADC LMONHITS+1
	STA LTMP1
	LDA UMONHITS
	ADC UMONHITS+1
	STA LTMP1B
	LDY GAME		;GET GAME NUMBER
	LDA Y,DIFTBH		;LOW BYTE OF ADDRESS
	PHA
	LDA Y,DIFTBL		;AND HIGH BYTE
	PHA
	RTS			;*********"JUMP" TO PROPER ROUTINE
UPDIF3:
;COMPETITIVE GAME
	LDA X,UMONHITS
	BNE 20$
	LDA X,LMONHITS
	CMP I,20
	BCC 30$
;INCREASE PROBABILITY OF STARTING OUT AS COMET INSTEAD OF DWARF
20$:	INC X,PROBCOMET
	BPL 30$
	DEC X,PROBCOMET		;HOLD AT 7F
30$:	LDA X,UMONHITS
	BNE 50$
	LDA X,LMONHITS
	AND I,7
	BNE 50$
;INCREASE DWARF RAMPING SPEED

35$:	INC X,DWFRMP
	BPL 50$			;MAX IS 80
	DEC X,DWFRMP
;INCREASE DWARF STARTING SPEED
50$:	LDA X,LMONHITS
	CMP I,3
	BNE 60$
	LDA X,COMTABLE
	STA X,COMSTART

60$:
70$:	CLC
; GET HARDED AS YOU HIT MORE
	LDA LMONHITS
	ADC LMONHITS		;TOTAL HITS BETWEEN THEM
	AND #07			;EVERY 8 HITS....
	BNE 80$
	INC COMLIMIT		;...GET HARDER
80$:	RTS
COMTABLE:.BYTE ZCOMET+<NMCOMETS/2>-1
	.BYTE ZCOMET+NMCOMETS-1
;ALONE GAME-1 PLAYER FIGHTER
UPDIF4:
	LDA X,UMONHITS
	BNE 20$
	LDA X,LMONHITS
	CMP I,20
	BCC 30$
	AND #01		;1 OF 2 AFTER 20
	BNE 30$
;INCREASE PROBABILITY OF STARTING OUT US COMET
;INSTEAD OF DWARF
20$:	INC X,PROBCOMET
	BPL 30$
	DEC X,PROBCOMET
30$:	LDA X,UMONHITS
	BNE 50$
	LDA X,LMONHITS
	AND I,7
	BNE 50$
;INCREASE DWARF RAMPING SPEED

	INC X,DWFRMP
	BPL 50$
	DEC X,DWFRMP			;DON'T LET PAST 80
;INCREASE DWARF STARTING SPEED
50$:	LDA X,LMONHITS
	CMP I,4
	BEQ 58$
	CMP I,15.
	BEQ 58$
	CMP I,25.
	BNE 60$
58$:	INC COMSTART
	INC COMLIMIT
60$:	LDA X,UMONHITS
	BNE 65$
	LDA X,LMONHITS
	CMP I,40.
	BCC 70$			;NOT ENOUGHT
;INCREASE THE SPEED OF COMETS AFTER BECOME COMETS.
65$:
70$:	RTS
UPDIF5:
;TWO PLAYER SPACE STATION
	LDA LTMP1B
	BNE 20$
	LDA LTMP1
	CMP I,20
	BCC 30$
;INCREASE PLANE OF STARTING OUT AS COMET
;INSTEAD OF DWARF
20$:	INC X,PROBCOMET
	BPL 30$
	DEC X,PROBCOMET
30$:	LDA LTMP1B
	BNE 35$
	LDA LTMP1
	CMP I,10
	BCC 50$			;NOT ENOUGH
	AND I,0F
 	BNE 50$
;INCREASE DWARF RAMPING SPEED

35$:	INC X,DWFRMP
	BPL 50$			;DON'T LET PAST 80
	DEC X,DWFRMP
;INCREASE DWARF STARTING SPEED
50$:	LDA LTMP1B
	BNE 70$			;ALREADY UPPED
	LDA LTMP1
	AND #0F			;EVERY 16 HITS...
	BNE 70$
	INC COMLIMIT		;...GET HARDER
	INC BCOMSTART+1
	INC BCOMSTART
70$:	RTS
;TWIN GAME - 1 PLAYER SPACESTAION
UPDIF6:
	LDA LTMP1B
	BNE 20$
	LDA LTMP1
	CMP I,20
	BCC 30$
;INCREASE PLANE OF STARTING OUT US COMET
;INSTEAD OF DWARF
20$:	INC X,PROBCOMET
	BPL 30$
	DEC X,PROBCOMET
30$:	LDA LTMP1B
	BNE 35$
	LDA LTMP1
	CMP I,10
	BCC 50$			;NOT ENOUGH
	AND I,0F
	BNE 50$
;INCREASE DWARF RAMPING SPEED

35$:	INC X,DWFRMP
	BPL 50$			;DON'T LET PAST 80
	DEC X,DWFRMP
;INCREASE DWARF STARTING SPEED
50$:	LDA LTMP1B
	BNE 60$			;ALREADY UPPED
	LDA LTMP1
	CMP I,7
	BNE 54$

	INC BCOMSTART+1
	INC COMLIMIT
54$:	CMP I,0F
	BNE 58$
	INC BCOMSTART
	INC COMLIMIT
58$:	CMP I,25
	BNE 60$
59$:	INC BCOMSTART+1
	INC COMLIMIT
60$:	LDA LTMP1
	BCC 70$			;NOT ABOVE LAST LIMIT
	AND #07
	BNE 70$
	INC COMLIMIT
	INC BCOMSTART+1
	INC BCOMSTART
;INCREASE THE SPEED OF COMETS AFTER BECOME COMETS.
70$:	RTS
	.SBTTL	BACKOUT-BACK AWAY FROM COLLISION

;MOVES OBJECT X BACK BY AMOUT OF ITS CURRENT VELOCITY
;ENTRY X

;USES Y
BACKOUT:
	LDY I,0			;SIGN EXTENSION
	LDA X,XINC
	JSR COMP
	BPL 10$
	DEY
10$:	CLC
	ADC X,OBJXL
	STA X,OBJXL
	TYA
	ADC X,OBJXH
	AND I,XRIGHT-1		;SCREEN LIMIT
	STA X,OBJXH

;SIMILIAR FOR Y COMPONENT.

	LDY I,0			;SIGN EXTENSION
	LDA X,YINC
	JSR COMP
	BPL 20$
	DEY
	CLC
20$:	ADC X,OBJYL
	STA X,OBJYL
	TYA
	ADC X,OBJYH
	BMI 50$			;WENT BELOW BOTTOM
	CMP I,YTOP
	BCC 60$		;STAYED ON SCREEN
	LDA I,0
	BEQ 60$			;ALWAYS
50$:	LDA I,YTOP-1
60$:	STA X,OBJYH
	RTS
	.SBTTL BOUNCE - COLLISION BOUNCE
	
;X SHOULD BE A SHIP, THE SMALLER ONE
;Y CAN BE ROCK OR KILLER MINE
BOUNCE:;TREATS ALL OBJECTS AS HAVING
;THE SAME MASS
;CHECKS CURRENT POSITION TO
;DETERMINE WHERE THEY CAME FROM SO
;CAN SET MINIMUM VELOCITY.
;FOR THE Y(ROCK,MINE,SAUCER)OBJECT
;USES TEMP 5

;IF GOT HERE FROM PDSTXSHIP
;TEMP3,TEMP3+1 COULD BE REVERSED
;IF FROM A SHOT, Y=A SHIP
	CPY I,ZSHIP
	BCS 91$		;NO BOUNCE
	BIT SUPRSAC		;SUPER SAUCER??
	BPL 10$		;NOPE
	CPY #ZSAUCER+1		;COTROLL SAUCER??
	BNE 10$			;NOPE!
	DEY			;PRETEND CONTROLL SAUCER!
10$:	JSR BOUNC8
	LDA Y,XINC
	CMP I,4
	BCC 20$
	CMP I,-3
	BCC 50$
;VELOCITY IS IN TROUBLE RANGE
;COMPARE X POSITION
20$:	LDA X,OBJXL
	CMP Y,OBJXL
	LDA X,OBJXH
	SBC Y,OBJXH
	LDA I,-3
	BCS 30$
	LDA I,3
30$:	STA Y,XINC
50$:
	LDA Y,YINC
	CMP I,4
	BCC 55$
	CMP I,-3
	BCC 80$
;VELOCITY IN TROUBLE RANGE
;COMPARE Y POSITIONS
55$:	LDA X,OBJYL
	CMP Y,OBJYL
	LDA X,OBJYH
	SBC Y,OBJYH
	LDA I,-3
	BCS 60$
	LDA I,3
60$:	STA Y,YINC
;FIND NEW ANGLE OF TRAVEL
80$:	CPY I,ZSAUCER

	BCS 91$			;SAME OLD ANGLE FOR SAUCER
	CPY I,NMROCK
	BCC 91$
	STX TEMP5		;REMEMBER ENTERING X
	LDX Y,XINC
	LDA Y,YINC
	TAY
	JSR ATAN
	LDX TEMP5
	LDY TEMP3+1
	STA Y,CANGLH-ZCOMETS
;IF COMET, SHOW DOWN THE
;ANGLE CHANGE CAPABILITY.
	CPY I,ZKLMINES
	BCS 91$
	LDA Y,CANGCH-ZCOMET
	LSR
	LSR
	STA Y,CANGCH-ZCOMET
91$:	RTS
;SWITCH VELOCITIES
BOUNC8:	LDA X,XINC
	PHA
	LDA Y,XINC
	STA X,XINC
	PLA
	STA Y,XINC
	LDA X,YINC
	PHA
	LDA Y,YINC
	STA X,YINC
	PLA
	STA Y,YINC
	RTS
	.SBTTL GWRANGLE-GET WRAP AROUND ANGLE
;DETERMINE CLOSEST ANGLE, ACCOUNTING FOR
;WRAP AROUND
;FROM OBJECT X, SIGHTING OBJECT Y (RELATIVE TO OBJ)
GWRANGLE:
	LDA Y,OBJXH
	SEC
	SBC X,OBJXH
	BMI 30$			;NEGATIVE
	CMP I,<XRIGHT/2>+3	;3 FOR HYSTERRIS
	BCC 50$
	SBC I,XRIGHT		;WRAP AROUND
	BNE 50$			;ALWAYS
30$:	CMP I,<-XRIGHT/2-3>&0FF
	BCS 50$			;OK AS IS
	ADC I,XRIGHT		;CARRY WAS CLEAR, WRAP AROUND
50$:	PHA			;PUT X DIFFERENCE ON STACK
	LDA Y,OBJYH
	SEC
	SBC X,OBJYH
	BMI 70$			;WAS NEGATIVE
	CMP I,<YTOP/2>+2	;2 FOR HYSTERESIS
	BCC 80$			;ACCEPTABLE POSTIVE MOUNT
	SBC I,YTOP-1		;-1 SINCE CARRY CLEAR
	BNE 80$
70$:	CMP I,<-YTOP/2-2>&0FF
	BCS 80$
	ADC I,YTOP
80$:
	JMP KLMI5
;FIND X AND Y DIFFERENCE IN COORDINATES
;ASSUME SHIP ARE SIGHTING IS IN Y, RELATIVE TO OBJ

KLMI3:	LDA Y,OBJXH
	SEC
	SBC X,OBJXH
	PHA			;SAVE X DIFFERENCE ON STACK

	LDA Y,OBJYH
	SEC
	SBC X,OBJYH

KLMI5:	TAY			;NUMERATOR FOR ATAN
	PLA
	TAX			;DENOMINATOR FOR ATAN
	JMP ATAN		;(EXIT)
;ACC NOW HOLDS ANGLE TO SHIP(Y)
KLMIEX:JMP ENEMY		;DO ENEMY
	
	.SBTTL KLMINES - KILLER MINES
;MOVE KILLER MINES
;SET XINC,YINC OF KILLER MINES ACCORDING TO
;THEIR CURRENT ANGLE.
;MAKES CALLS TO ATAN,MULTIPLY,COS,SIN
;USES TEMP1(TEMP2,TEMP2+1),TEMP3,(TEMP4,TEMP4+1)
KLMINES:
;ONLY CHANGE ONE PER FRAME
	LDA FRAME
	AND #3F				;1 OF 7 MINES MAX
	LSR				;DO ONLY ON EVEN FRAMES
	BCS KLMIEX
	LSR
	BCS KLMIEX			;BOTTOM 2 BITS
	LSR 
	BCC KLMIEX			;AND THIS BIT 1
	CMP I,NMKLMINES
	BCS KLMIEX
;	CLC
	ADC I,ZKLMINES
	TAX
	LDA X,OBJ
	BEQ KLMIEX
	BMI KLMIEX		;EXPLODING COMET
	STX TEMP3
	LDY X,KTARGET-ZKLMINES	;SHIP TO TRACK REL TO OBJ


;MAKE CHANGE TO KILLER MINE ANGLES

KLMI6:	JSR KLMI3		;ACC HOLDS ANGLE TO OBJECT Y TO TRAM OBJECT X
KLMI7:	LDX TEMP3
	CPX I,ZKLMINES
	BCS 20$			;WAS KILLERMINE
	TAY			;STORE ANGLE
	LDA X,COMTYP-ZCOMET		;LOW BIT ON SAYS GO STRAIGHT
	LSR
	TYA			;RESTORE ANGLE FROM STACK
	BCC 25$			;NORMAL
	BCS 35$			;HEADED OFF
20$:	BIT KLMOFF
	BMI 35$			;MINES GOING OFF SCREEN
25$:	SEC
	SBC X,CANGLH-ZCOMET
	ASL			;CARRY SET IF SHIP ON RIGHT
	LDA X,CANGCH-ZCOMET	;ANGLE INCREMENT ALLOWED
	BCC 30$
	EOR #0FF
	ADC #0			;CARRY SET
30$:
;DIVIDE BY 4
;THE INITIAL STATE OF TEMPA IS NEGLIGIBLE
	CMP I,80
	ROR
	ROR TEMPA
	CMP I,80
	ROR
	ROR TEMPA
	TAY			;STORE UPPER BYTE ON STACK
	LDA TEMPA
	CLC
	ADC X,CANGLL-ZCOMET
	STA X,CANGLL-ZCOMET
	TYA			;RECALL UPPER BYTE FROM STACK
	ADC X,CANGLH-ZCOMET
	STA X,CANGLH-ZCOMET

;FROM UPPER BYTE OF KILLER MINE ANGLES,
;DETERMINE XINC,YINC
;WHEN A MINE IS STUNNED, WE SET
;ITS SPEED VALUE TO ZERO. IT IS INCREASED
;HERE UNTIL IT REACHES ITS FINAL SPEED,
;WHICH IS IN OBJ.
;ALL SPEEDS TO BE POSITIVE
35$:	LDA X,CSPEED-ZCOMET
	CPX #ZKLMINES
	IFCS			;KILLERMINE
	SBC X,OBJ		;DIFFERENCE BETWEEN NOW & THEN
	IFCC			;NOT AT SPEED
	JSR COMP
	LSR
	IFEQ
	LDA #1			;AT LEAST 1
	ENDIF
	ADC X,CSPEED-ZCOMET
	ELSE
	LDA X,CSPEED-ZCOMET	;HOLD AT PRESENT
	ENDIF
	ELSE			;NOT KILLER MINE
	CMP X,OBJ
	BCS OK1			;AT SPEED
	ADC #4			;ELSE ADD 4 ALWAYS
	CPX #ZCOMET+<NMCOMETS/2>
	IFCS			;SOME COMETS ACCEL FASTER THAN OTHERS
	ADC DWFRMP+1		;SECOND PLAYER TARGETS
	ELSE
	ADC DWFRMP
	ENDIF
	ENDIF
	STA X,CSPEED-ZCOMET
OK1:

	STA TEMP1		;MULTIPLIER IN MULTIPLY
	LDA X,CANGLH-ZCOMET
	JSR COS			;RESULT IS X COMPONENT
	JSR MULTIPLY		;MULTIPLY BY KSPEED
;	LDA TEMP2+1		;UPPER BYTE OF RESULT
	LDX TEMP3
	STA X,XINC

;SIMILAR FOR Y COMPONENT

	LDA X,CANGLH-ZCOMET
	JSR SIN			;RESULT IS Y COMPONENT
	JSR MULTIPLY		;MULTIPLYBY KSPEED
;	LDA TEMP2+1
	LDX TEMP3		;IS THIS NEEDED?YES, SIN USES X
	STA X,YINC
90$:	;FALL THROUGH TO ENEMY

;FIGURE OUT WHICH ENEMY TO LAUNCH
;WHEN IS RIGHT FRAME AND ROCK TIMER
;OR ENEMY TIMER OR ROCKS ARE LOW,
;A RANDOM ENEMY, EITHER SAUCER OR COMET
;APPEARS DIRECTED AT SOMEONE DEPENDING
;ON THE FRAME AND THE GAME.
;WANT TO WAIT UNTIL TARGET IS ALIVE
;FOR COMPETITIVE, WANT TO WAIT
;FOR OTHER PLAYER, IF HE IS ELIGIBLE
;TO COME BACK
ENEMY:	LDA UPDFLG
	AND UPDFLG+1		;ATTRACT INITIALS?
	BPL 90$
	LDA FRAME
	AND I,3
	BEQ 10$
	CMP I,1
	BEQ 90$			;NO ACTION
;MUST BE 2 OR 3
;FIRE APPROPRIATE SAUCER
	JMP EFIRE
90$:	RTS
;DETERMINE THE TARGET
10$:
	LDA FRAME		;MULTIPLE OF 4
	AND I,4
	LSR
	LSR
	TAX			;X=0 OR 1
	STA TEMP1		;WHO OWNS THE ENEMY
	BEQ 11$			;SAUCER 0 ALWAYS OK
	BIT SUPRSAC		;SUPER SAUCER?
	BMI 90$			;SKIP #1 IF SUPER SAUCER
11$:	ADC I,ZSHIP		;CARRY CLEAR
	TAY			;MAYBE TEMP1+1 NOT NEEDED
;IF ALONEGAME, WANT ALL ENEMIES TO BE AGAINST THE SINGLE PLAYER
	LDA GAME
	CMP I,ALONEGAME
	BNE 12$			;NOT ALONE GAME
	TXA
	BEQ 12$			;IF X=0, THIS IS NORMAL
	LDA FRAME+1
	AND I,0E0
	BEQ 90$			;TOO EARLY (FOR THIS EXTRA TROUBLE)
	DEY			;AGAINST SINGLE PLAYER
12$:	STY TEMP1+1
	LDA X,OBSAUCER
	BNE 18$			;SAUCER ENGAGED
	LDA ATRACT
	BEQ SCENT5		;ACC=0, MEANS TARGET A ROCK
;IF IN BONUS TIME, NO NEW ENEMIES
	LDA RDELAY
	BNE 92$
18$:
20$:	LDA X,PRTDAMAGE
	BPL 30$			;THIS SHIP IS WHOLE
;IF OTHER SHIP ALIVE, GET HIM
22$:	LDA Y,REVSHIP-ZSHIP
	TAY
	LDA Y,OBJ		;OTHER SHIP.
	BEQ 30$
	BMI 30$
	STY TEMP1+1		;OTHER SHIP ALIVE, GIVE HIM THE PROBLEMS
;SEE IF ALIVE
30$:	LDY TEMP1+1
	LDA Y,OBJ
	BMI 90$
	BEQ 90$
	BIT TOGCOMB
	BPL 40$		;NOT THE PAIR
;FIND BEST OF EACH
	LDA RTIMER
	ORA RTIMER+1
	BEQ 60$			;TIME
	LDA ENMDEL
	ORA ENMDEL+1
	BEQ 60$
	BNE 80$
;OTHER TYPE, SEPARATE PLAYERS
40$:	LDA GAME
	BEQ 50$			;COMPET. GAME
;SINGLE ALONE GAME
	LDA RTIMER
	BEQ 60$
	LDA ENMDEL
	BEQ 60$
	BNE 80$
50$:
	LDA X,RTIMER
	BEQ 60$
	LDA X,ENMDEL
	BEQ 60$
80$:	LDA DIFCTY
	BEQ 92$
	CMP NROCKS
	BCS 60$
92$:	RTS
60$:	
;DETERMINE WHICH TYPE OF ENEMY TO ENTER
	LDA WAVE		;WAVE 1?
	LSR
	BEQ SCENT5		;ROCK DIRECTED SAUCER ALWAYS
	LDA POKEY1+POKRAN
	AND I,7
;3:7 FOR COMETS
;1:2 FOR NORMAL SAUCER
;0   FOR ROCK DIRECTED SAUCER
	CMP I,0+1
	BCC SCENT5		;ROCK DIRECTED SAUCER
	CMP I,3
	BCS SCENT2		;NORMAL SAUCER
	LDA NROCKS
	BEQ 92$
	JMP INCOMET
	
;SAUCER ENTRY
SCENT:
SCENT2:	LDA TEMP1+1
SCENT5:	LDY X,OBSAUCER
	BEQ 1$
100$:	RTS

1$:	STA X,ETARGET		;OVERRIDES EXISTING TARGET
	LDA X,ETIMER
	BNE 100$
	LDA LNGTIMER+1
	BMI 6$			; HE DAWDLED, ENTER SAUCER DESPITE ROCKS
	LDY NROCKS
	CPY I,8
	BCS 100$
;EARLY IN ALL BUT FIGHT GAME
;ONLY ALLOW ONE SAUCER
	LDA GAME
	BEQ 6$
	LDA OBSAUCER
	ORA OBSAUCER+1
	BEQ 6$
	LDA X,UMONHITS
	BNE 6$
	LDA X,LMONHITS
	CMP I,60.
	BCC 100$
6$:	LDA POKRAN+POKEY2	;RANDOM NUMBER
	AND #40			;SELECT PIC
	ORA #1			;ACTIVATE OBJECT
	STA X,OBSAUCER
	CPX #0			;ONLY FOR SAUCER 0
	BNE 7$
	LDY #0			;GUESS REGULAR SAUCER
	LDA OBSAUCER+1		;SAUCER 1 ACTIVE??
	BNE 3$			;IF YES, NO SUPERSAUCER
	LDA POKEY2+POKRAN	;*****TEMP DEC MAKER *****
	AND #1
	BNE 3$
	LDA COMTIMER		;ONSLAUGHT??
	BNE 3$			;NO SUPER DURING ONSLAUGHT
	LDA DIFCTY		;DIFCTY AT 3??
	CMP #03
	BCC 3$			;DON'T ALLOW TILL WAVE 3 AT LEAST
	LDA #41
	STA OBSAUCER		;ALWAYS THIS PIC
	LDY #80			;SET TO SUPER SAUCER
3$:	STY SUPRSAC
7$:	LDA I,0
	STA X,OBJXL+ZSAUCER
	STA X,OBJXH+ZSAUCER
	STA X,OBJYL+ZSAUCER
	LDA POKEY1+POKRAN	; RANDOM NUMBER
	STA TEMPA
	AND #1F			;APPROX 1 SCREEN
	CMP I,YTOP
	BCC 10$			;MUST BE 0 TO 767
	AND I,YTOP-1
10$:	BIT SUPRSAC
	BPL 15$			;NOT SUPRESAUCER
	AND #03			;PREVENT WRAP ON START
15$:	STA X,OBJYH+ZSAUCER	;STARTING VERTICAL POSITION
	INC X,OBJYH+ZSAUCER	;1TO 3 MINIUM START
	LDA WAVE
	LSR
	LSR			;WAVE #/4
	TAY
	CPY #04
	BCC 16$
	LDY #4
16$:	LDA Y,SSPOS		;GET MIN POS SAUCER SPEED
	BIT TEMPA		; ORIGINAL RANDOM NUMBER
	BVS 20$			;PICK DIRECTION
	LDA I,XRIGHT-1
	STA X,OBJXH+ZSAUCER
	DEC X,OBJXL+ZSAUCER	;START ON RIGHT SIDE
	LDA Y,SSMINUS		;MIN NEG SPEED
20$:	LDY X,SCSHSP		;THIS GUY SHOOTING FAST?
	STA X,SAUMIN
	BIT SUPRSAC		;SUPER SAUCER?
	BPL 25$			;NOPE
	ASL			;MOVE 2 TIMES SPEED
25$:	STA X,XINC+ZSAUCER
	CLC
	LDA DIFCTY		;GET STARTING DISTANCE
	ADC #04			;MIN DISTANCE (THIS MAXES AT 9)
	STA SUPRDIS
	LDA I,60.		;SHOULD BE ONE SCREEN WIDTHS DELAY
	STA X,ETIMER
;ONLY USE SMALL SHIP
40$:				;WHEN ENEMY HAS SUCCESSFULLY ENTERED,
90$:
				;RESET THE TIMERS
EHASENTERED:
;ONCE AN EMEMY HAS ENTERED, RESET THE TIMERS
;
;ENTRY (TEMP1)=WHO ENEMY IS TARGED TO (0,1)
	LDX TEMP1
HASENT:	LDA X,SENMDEL
	STA X,ENMDEL

;SET ROCK COUNTER HIGH ENOUGH SO
;THAT SECOND ENEMY NOT COME IMMEDIATELY.
	LDA X,MXRTIMER
	LSR
	LSR
	CMP X,RTIMER
	BCC 80$
	STA X,RTIMER
80$:
EFIREX:	RTS
	
	.SBTTL EFIRE-ENEMY FIRE CONTROL
;EFIRE-ENEMY FIRE CONTROL OF SAUCER(X) RELATIVE TO OBSHIP
;USES TEMP3 TO STORE RELATIVE OBJECT
SAUANG:	.BYTE 040,0C0		;ANGLE TO SHOOT
EFIRE:	SBC I,2			;CARRY WAS SET
	TAX			;X NOW 0 OR 1
	STX TEMP3
	LDA FRAME
	AND I,0F0		;LAST TWO BITS SORT OF KNOW
	ASL
	BNE 10$			;NOT TIME TO CHANGE DIRECTION
	LDA POKEY1+POKRAN
	AND I,03
	TAY
	LDA Y,EXVEL		;VERTICAL SAUCER VELOCITIES
	STA X,YINC+ZSAUCER
10$:
;THIS TEST WILL CAUSE SAUCER TO NOT SHOOT SOMETIMES
	BIT LNGTIMER+1
	BMI 30$		; HE DAWDLED, NOT CARE ABOUT ROCKS

	LDA NROCKS
	CMP I,10.
	BCS EFIREX		;NOT ENOUGH TIME FOR COLLISIONS
30$:	DEC X,EDELAY
	BEQ 50$			;NOT TIME TO SHOOT
40$:	RTS			;EXIT
50$:	BIT SUPRSAC		;SUPER SAUCER??
	BPL 51$			;NOPE
	LDA X,SAUANG
	STA X,ANGLE		;FORCE ANGLE
	LDA SUPRTIM		;AND SET SHOOT DELAY TIMER BASED ON DISTANCE
	STA X,EDELAY
	JMP DOFIRE	
51$:	LDA I,10		;WAS 10. CHEAP WAY TO LIMIT SOTS
	LDY X,SCSHSP		;FAST SHOTS??
	BPL 55$			; NO DAWDLE
	LDA I,9			; CAN SHOOT TWO
55$:	STA X,EDELAY		;DELAY BEFORE NEXT SHOT

EFIRE3:
; SHOOT FROM SAUCER X AT SHIP Y
; X RELATIVE TO ZSAUCER, Y TO OBJ
; BECAUSE FIRE WANTS COMMON BASE
;ENTRY (TEMP3)=X, REL TO OBSAUCER
	LDY X,ETARGET
	CPY I,NMROCKS-1
	BCS 50$
	LDY I,NMROCKS
10$:	LDA Y,OBJ
	BEQ 20$
	BPL 40$
20$:	DEY
	BNE 10$
;Y IS EITHER ORRIGINAL TARGET, AN ACTIVE ROD
;OR ELSE ROCK (0) IF NO ACTIVE ROCKS
40$:	TYA
	STA X,ETARGET
50$:	LDA X,OBJ+ZSAUCER
	BMI EFIREX		;DEAD
	BEQ EFIREX		;GONE
	LDA Y,OBJ
	BEQ EFIREX		;TARGET DEAD
	BMI EFIREX		;TARGET GONE
	LDA X,XINC+ZSAUCER	;BEGIN SIGNED DIVIDE BY TWO
	CMP I,80
	ROR
	STA TEMP2+1		;(XINC/2)
	LDA Y,OBJXL		;GET X DISTANCE TO SAUCER
	SEC
	SBC X,OBJXL+ZSAUCER
	STA TEMP2
	LDA Y,OBJXH
	SBC X,OBJXH+ZSAUCER
	ASL TEMP2
	ROL
	ASL TEMP2
	ROL			;-7F TO +7F
	SEC			;REMEMBER TORPEDO VELOCITY DEPENDS ON
	SBC TEMP2+1		;SAUCER SPEED
	PHA			;SAVE DENOMINATOR FOR ARC TANGENT
	LDA X,YINC+ZSAUCER
	CMP I,80
	ROR
	STA TEMP2+1
	LDA Y,OBJYL
	SEC
	SBC X,OBJYL+ZSAUCER
	STA TEMP2
	LDA Y,OBJYH
	SBC X,OBJYH+ZSAUCER
	ASL TEMP2
	ROL
	ASL TEMP2
	ROL			;-5F TO +5F
	SEC
	SBC TEMP2+1		;REMEMBER TO ACCOUNT FOR OUR MOTION
	TAY			;-60 TO +60
	PLA
	TAX			;RESTORED DENOMINATOR FOR ATAN
	JSR ATAN		;ARCTAN (Y/X)
	LDX TEMP3
	STA X,ANGLE
;MAKE SAUCE A LITTLE LESS THAN
;PERFECT. BETTER AFTER A COUPLE MINUTES
;THIS SECTION NOT CORRECT YET
	LDY FRAME+1
	CPY I,30		;UNITS OF ABOUT 4 SECONDS
	LDA POKEY1+POKRAN	;RANDOM WCOMBER
	AND I,0F
	BCC 90$			;IF NOT TO LIMIT YET
	LSR			;MORE ACCURRACY
90$:	BIT POKEY2+POKRAN
	BPL 95$
	EOR I,0FF		;INVERT
95$:
	ADC X,ANGLE		;DONT BE TOO GOOD-JUST CLOSE
96$:	STA X,ANGLE		;ANGLE TO AIM
DOFIRE:	LDY X,STLOK		;START LOOKING HERE
	LDA X,FIRSAU		;FIRE FOR SAUCER
	STA TEMP3+1		;2 SAUCER TORPEDOS FOR EACH SAUCER
	LDA X,SCSHSPEED
	ORA SUPRSAC		;OR SUPERSAUCER
	BPL DOFR2			;NO DAWDLE
	LDA I,80		;FAST FOR DWADLED
DOFR2:	STA TEMP2		;FAST OR SLOW
	JMP FIRE1		;FIRE A TORPEDO
	
STLOK:	.BYTE ZCOMINES+2-1,ZCOMINES+4-1	;STARTING VALUES
FIRSAU:	.BYTE ZCOMINES-1,ZCOMINES+4-1-2	;STOPPING VALUES
EXVEL:	.BYTE -10,-8,8,10	;DIFFERENT SAUCER VELOCITIES IN Y
SSPOS:	.BYTE 10,18,20,28,30
SSMINUS:	.BYTE -10,-18,-20,-28,-30
	.SBTTL FIRE-FIRE SHIPS TORPEDOS
;FIRE-	FIRE SHIP TORPEDOS
;
FIRE:	BIT ATRACT
	BMI 10$
	LDA POKEY1+POKRAN
	JMP 11$
10$:	LDA X,FIRESW		;BIT 6 ON WHEN PUSHED
11$:	ASL
	ASL
	ROR X,LASTSW		;??? CONFLICT
	BPL FIRE2		;IF NOT ON
	LDA X,LASTSW
	ASL
	BMI FIRE2		;WAS ON LAST TIME
;HAVE DETERMINED HE WANTS TO FIRE
	BIT TOGDRONE
	BPL 20$			;NOT DRONE GAME
;WILL TELL OTHER SHIP TO FIRE AFTERWARDS
	JSR 20$
	LDX I,1
20$:
	LDA X,OBJ+ZSHIP
	BEQ FIRE2		;DEAD
	BMI FIRE2		;EXPLODING
;NOT ALLOW TO FIRE IF HAVE SHIELDS ON
	LDA X,TOGGLE
	AND I,80
	BNE FIRE2		;SHIELDS ON
50$:
;QUICK FUDGE,FIRE3 USES X RELATIVE TO SAUCER
	INX		;X=1 OR 2
	INX
	STX TEMP3		;X= 2 OR 3 FOR 'FIRE3' ROUTINE
;WANT SHIPS SOTS TO BE FAST
	LDA I,80
	STA TEMP2
	LDA X,SERNDTABLE-ZZZSHIP
	STA TEMP3+1		;STOPPING INDEX FOR SHIP
	LDY X,SERSTTABLE-ZZZSHIP	;STARTING INDEX
	LDA X,PRTDAMAGE-ZZZSHIP
	BEQ 60$			;STARTING VALUE WHEN DAMAGED
	LDY X,PRTSTTABLE-ZZZSHIP
60$:
;TEMP2=80 FOR FAST, 0 FOR SLOW SHOT
FIRE1:	LDA Y,OBJ
	BEQ FIRE3		;WE FOUND INACTIVE ONE
	DEY
	CPY TEMP3+1
	BNE FIRE1		;TRY NEXT ONE
FIRE2:	RTS			;
	
FIRE3:
	LDA I,12
	BIT TEMP2
	BMI 10$			;FAST SOT
	ASL
10$:	STA Y,OBJ		;SET TIMER FOR LENGTH OF LIFE
	LDA X,ANGLE
	JSR COS			;COS(ANGLE)-SHIPS SPEED=X CHANGE TO TORPEDO
	CMP I,80		;DIVIDE BY 2
	ROR			;SS999.BBB
	BIT TEMP2
	BMI 15$			;FAST SHOT
	CMP I,80
	ROR			;DIVIDE AGAIN
15$:	STA TEMP1+1
	CLC
	LDX TEMP3
	ADC X,XINC+ZSAUCER
	BMI 23$			;IF NEGATVE
	CMP I,70
	BCC 30$			;IF MAX NOT EXCEEDED
	LDA I,6F
	BNE 30$			;ALWAYS
	
23$:	CMP I,-6F
	BCS 30$			;IF MIN NOT EXCEEDED
	LDA I,-6F
30$:	STA Y,XINC		;SET X SPEED
	LDA X,ANGLE		;SHIP'S ANGLE FOLLOWS SAUCER'S
	JSR SIN			;SIN (ANGLE)
	CMP I,80		;DIVIDE BY 2
	ROR			;SSAAA.BBB
	BIT TEMP2
	BMI 32$			;FAST SOT
	CMP I,80
	ROR
32$:	STA TEMP2+1
	LDX TEMP3
	CLC
	ADC X,YINC+ZSAUCER
	BMI 33$			;IF NEGATIVE
	CMP I,70
	BCC 40$			;IF IN RANGE
	LDA I,6F		;SET MAX
	BNE 40$			;ALWAYS
	
33$:	CMP I,-6F
	BCS 40$			;IF IN RANGE
	LDA I,-6F
40$:	STA Y,YINC
	LDA TEMP1+1		;SCALE TO PUT TORP AT NOSE OF SHIP
	CMP I,80
	ROR
	CLC
	ADC TEMP1+1		;MULTIPLY BY 3/2
	CLC
	ADC X,OBJXL+ZSAUCER	;ADD SHIPS POSITION TO GET STARTING POSITION
	STA Y,OBJXL
	LDA I,0
	ADC X,OBJXH+ZSAUCER
	BIT TEMP1+1		;TEST SIGN
	BPL 45$			;WAS POSITIVE
	CLC
	ADC I,-1		;CARRY CLEAR UNLESS ALLOW NEGATIVE
45$:	STA Y,OBJXH
	LDA TEMP2+1		;SCALE AGAIN TO PUT AT NOSE
	CMP I,80
	ROR
	CLC
	ADC TEMP2+1		;MULTIPLY BY 3/2
	CLC
	ADC X,OBJYL+ZSAUCER	;ADD SHIPS POSITION TO GET STARTING POSITION
	STA Y,OBJYL
	LDA I,0
	ADC X,OBJYH+ZSAUCER
	BIT TEMP2+1		;TEST SIGN
	BPL 50$			;WAS POSITIVE
	CLC
	ADC I,-1		;PERHAPS NOT NEEDED
50$:	STA Y,OBJYH
; X=2=PLAYER 0, X=3=PLAYER 1, X<2=SAUCER
	CPX #ZZZSHIP
	BCS 60$
	JMP SAUCSN		;JSR & RETURN
60$:	BNE 65$			;WHICH SHIP?
	JMP PL0FIR		;PLAYER 0
65$:	JMP PL1FIR		;PLAYER 1
	
SERSTTABLE:			;STARTING Y FOR SEARCH FOR EMPTY MINE
	.BYTE ZP0MINES+NMP0MINES-1
	.BYTE ZP1MINES+NMP1MINES-1
SERNDTABLE:			;ENDING Y FOR SEARCH FOR EMPTY MINE
	.BYTE ZP0MINES-1
	.BYTE ZP1MINES-1
PRTSTTABLE:		;ENDING Y IF DAMAGED
	.BYTE ZP0MINES
	.BYTE ZP1MINES
;THESE TABLES USED TO GO FROM
;(0,1) TO (ZSHIP,ZSHIP+1)
;WHITE REVSHIP USED TO GO FROM
;(ZSHIP,ZSIP+1) TO (ZSHIP+1,ZSHIP)
GZSHIP:	.BYTE ZSHIP
REVSHIP:
	.BYTE ZSHIP+1,ZSHIP
	.SBTTL START AN ENEMY	
	.PAGE
GETIN4:	LDA #0E0
	LDX #48
	JSR MESGPOS
	LDX #1
	JSR LANGOFF
	LDY I,2
	JSR VGMSG		;DISPLAY MESSAGE 2 - INSTRUCTIONS
	LDA #0B3
	LDX #38
	JSR MESGPOS
	LDX #2
	JSR LANGOFF
	LDY I,3
	JSR VGMSG
	LDA #0AA
	LDX #2E
	JSR MESGPOS
	LDX #3
	JSR LANGOFF
	LDY I,4
	JSR VGMSG
	LDA #096
	LDX #24
	JSR MESGPOS
	LDX #4
	JSR LANGOFF
	LDY I,5
	JSR VGMSG		;(END MESSAGE)
	LDA #-250./4
	LDX #-80		;BALANCE DISPLAY
	JSR VGVTR5
	LDA #600./4
	LDX #0
	JSR VGVTR5
	LDA #-600./4
	LDX #0
	JMP VGVTR5		;FULL BALANCE
	.SBTTL GETINT-GET PLAYERS INITIALS FOR HIGH SCORE
;GETINT-GET PLAYERS INITIALS FOR HIGH SCORE
;
PLAYR	=TEMP5
GETINT:	LDA UPDFLG
	AND UPDFLG+1
	BPL GETIN5		;GET PLAYERS INITIALS
	LDA #0
	STA HSCFLG
GETIN2:	RTS
10$:
	
;PUT MESSAGE UP ONCE FOR NORMAL
GETIN5:	LDA FRAME+1
	BMI 5$			;CONTINUE
	BNE GETIN2		;NOT DOING THIS
	LDA #-1
	STA UPDFLG
	STA UPDFLG+1		;DONE DOING THIS TOO
	JMP GOUT			;FINISH EXIT PROCEDURE
5$:	LDA CABINET
	IFPL			;SKIP THIS IS COCKTAIL
	JSR GETIN4
	ENDIF
	LDX I,1
	STX PLAYR
	JSR GETIN6
	LDX I,0
	STX PLAYR
GETIN6:	LDA X,UPDFLG
	BMI GETIN2		;TO RTS
;PUT MESSAGE OF CORRECT ORIENTATION
;FOR COCKTAIL
	LDA CABINET
	IFMI			;DO IF COCTAIL ONLY
	LDA X,UPDOWTABLE
	STA UPDOWN
	JSR GETIN4
	ENDIF
	JSR VGCNTR
	LDA I,0			;DOUBLE SIZE
	JSR VGSCA1
	BIT CABERET		;CABERET CAB?
	BVS 21$			;YEP
	LDA CABINET		;COCKTAIL TABLE?
	BPL 25$			;IF NO, SKIP THIS
21$:	LDA #0F0		;C  POSITION FOR FLIPPED DISPLAY
	LDX #08
	LDY PLAYR		;D WHICH PLAYER?
	BEQ 30$
	LDA #0			;C SET FOR PLAYER 1
	BEQ 30$			;*******ALWAYS********
25$:	LDA I,14
	LDX I,04
	LDY PLAYR
	BEQ 30$
	LDA I,0D8		;SECOND PLAYER
30$:	JSR VGVTR5		;POSITION BEAM
	LDX PLAYR
	LDY X,UPDFLG
	STY TEMP2
	TYA
	CLC
	ADC X,UPDINT
	STA TEMP2+1		;INDEX FOR THE INITIAL WE ARE WORKING ON
	JSR INITAL		;DISPLAY INITIAL
	LDY TEMP2
	INY
	JSR INITAL		;DISPLAY INITIAL
	LDY TEMP2
	INY
	INY
	JSR INITAL		;DISPLAY THIRD INITIAL
50$:	LDX PLAYR		;ONLY
	LDA X,FIRESW		;BIT 6 HERE
	ROL			;INTO BIT 7....
	ORA X,HYPSW
	ORA X,THRUST		;WANT ANY BUTTON TO ENTER
	ROL			;GET SWITCH INTO CARRY SPOT
	ROL X,LASTSW		;SWITCH DEBOUNCE
	LDA X,LASTSW
	AND I,1F
	CMP I,07		;ON EXACTLY THE LAST THREE OF LAST FIVE
	BNE GETSTP			;NOT A VALID SWITCH
	INC X,UPDINT		;ADVANCE TO NEXT LETTER
	LDA X,UPDINT
	CMP I,03
	BCC GOTIT			;IF WE ARE NOT DONE
	LDA I,-1
	STA X,UPDFLG		;CLEAR UPDATING FLAG
	CPX #01
	IFEQ
	STA SPFLG		;CLEAR THIS ONE ALSO
	ENDIF
GOUT:	LDX I,0F1		;PREVENT TIMEOUT IF BOTH PLAYERS SET HIGH SCORE
	STX FRAME+1		;BRING UP HIGH SCORE TABLE NEXT
	LDA UPDFLG
	AND UPDFLG+1
	IFMI
	STX SHHIGH		;SET SHOW SCORE FLAGS
				;DISPLAY
	STA HALT		;FORCE HALT FOR NEXT
	JSR INSET		;REINIT AREAS
	JSR EASETUP		;MOVE SCORES TO BUFFER
	JSR WRHIIN		;START UPDATE OF EA ROM
	JSR BIGBANG		;REMOVE ALL OLD EXPLOSIONS
	SEC			;DONE FLAG
	RTS
	ENDIF
	CLC
	RTS			;(EXIT)
	
GOTIT:
	LDX TEMP2+1
	LDA I,0F4		;ABOUT 64 SECONDS
	STA FRAME+1		;RESET TIMEOUT
	LDA PLAYR		;PLAYER 2?
	BEQ 58$			;NO
	BIT SPFLG		;DOING SPECIAL INITIALS
	BMI 58$			;NO
	LDA #11.
	STA X,SPINT+1-1E		;INIT NEXT TO A
	RTS
58$:
	LDA I,11.
	STA X,INITL+1		;SET INITIAL TO A
	RTS
GETSTP:	LDA FRAME
	AND I,07
	BNE 90$			;EVERY 8TH FRAME
	LDY I,-1		;ASSUME LETTERS GO DOWN
	LDA X,ROTL
	BMI 75$			;ROTATING LEFT
	
70$:	LDA X,ROTR
	ASL
	BPL 90$			;NOT ROTATING RIGHT
	LDY I,1
75$:	TYA
	LDX PLAYR
	BEQ 76$			;NOT PLAYER 2
	BIT SPFLG		;SPECIAL PLAYER 2?
	BMI 76$			;NO
	LDX TEMP2+1		;COPY BELOW PROCEDUR
	CLC
	ADC X,SPINT-1E
	BMI 88$
	CMP #11.
	BCS 10$
	LSR
	BNE 13$
	LDA #11.
	BNE 15$
88$:	LDA #36.
10$:	CMP #37.
	BCC 15$
13$:	LDA #0
15$:	STA X,SPINT-1E
	LDA #0
	RTS
76$:	LDX TEMP2+1
	CLC
	ADC X,INITL		;CHANGE INITIAL
	BMI 78$			;BEFORE A BLANK MUST BE Z
	CMP I,11.
	BCS 80$			;IF GREATER THAN A
;IN THIS NO MANS LAND, EITHER USED
;TO BE <BLANK> OR <A>
	LSR
	BNE 83$

;INCREASE FROM BLANK TO A
	LDA I,11.		;A
	BNE 85$			;ALWAYS

78$:	LDA I,36.		;MAKE IT A Z
80$:	CMP I,37.
	BCC 85$			;LESS THAN Z
83$:	LDA I,0			;BACK TO BLANK
85$:	STA X,INITL
90$:	LDA I,0			;MUST BE POSITIVE ON RETURN IS THIS NEEDED?
	RTS


UPDOWTABLE:	.BYTE 0,80

SHPPLACE:
	LDA POKEY1+POKRAN
;CURRENTLY ONLY USE THIS TO PLACE TWO
;SEPARATE SHIPS, WANT SHIP 1 TO APPEAR
;ON LEFT SIDE, OF SCREEN SHIP 0 ON THE RIGHT
	AND I,XRIGHT/2-1
	CPX I,0
	BNE 1$
	ORA I,XRIGHT/2
1$:
	CMP I,1B		;STAY AWAY FROM THE EDGE
	BCC 2$
	LDA I,1A
2$:	CMP I,5
	BCS 4$			;STAY AWAY FROM THE EDGE
	LDA I,5
4$:
60$:	STA X,OBJXH+ZSHIP
	LDA POKEY1+POKRAN
	AND I,1F
10$:	CMP I,13
	BCC 12$			;STAY AWAY FROM TOP
	LDA I,12
12$:	CMP I,5
	BCS 20$			;STAY AWAY FROM BOTTOM
	LDA I,5
20$:	STA X,OBJYH+ZSHIP	;NEW Y POSITION
	RTS
;ZERO ALL RAM PAST SAVE POINT
;LATER WORRY ABOUT PAGE 1
INSVRAM:
	LDX I,SAVTOP
	LDA I,0
10$:	STA X,0
	INX
	CPX I,SAVZTOP
	BNE 10$
	TAX			;X=0
20$:	STA X,200
	INX 
	BNE 20$
	LDX I,SAVBOT-300
30$:	STA X,300
	DEX
	BNE 30$
	RTS
	
	.SBTTL INIT-INITIALIZATION
INIT:	JSR INSVRAM
;	LDA #0			;A=0 FALLING IN FROM ABOVE
	STA $LOCKCOIL		;NO MORE COINS
;ZERO SCORES AND COMBINED SCORES
	LDX I,8
30$:
	STA X,SCORE		;CLEAR SCORE
	DEX
	BPL 30$			
	STA NROCKS		;CLEAR NUMBER OF ROCKS
	STA RDELAY
	STA SUPRSAC		;CLEAR ANY OLD SAUCER
;SIGNIFY THAT WANT TO COMPLETE NEW SCORES
	LDX I,2
	LDA I,80+3F		;BIT 7 ON(SCORE), BIT 6 OFF (LIVES)
35$:	STA X,PL0SCFLAG
	DEX
	BPL 35$
	JSR GTOPTN		;READ OPTIONS AND SET LIVES AND BONUS
	LDA I,80
	STA ATRACT
	DEC UPDFLG
	DEC UPDFLG+1		;STOP HIGH SCORE ENTRY
	LDA I,1
	STA LNGTIMER+1
	TAX			;X=1*****************************
36$:	LDA I,0A0
	STA X,SENMDEL		;STARTING ENEMY DELAY
	LDA I,1
	STA X,SDELAY
	LDA I,1*COMMUL
	STA X,DWFRMP
	LDA I,0
	STA X,FCACH
	LDA I,8*COMMUL*2	;A=20 (IT BETTER)
	STA X,NWCACH
	STA X,NWCSPD
	STA X,FCSPD
	ASL			;A=40
	ASL			;A=80
	STA X,IANGLE
	STA X,MXRTIMER
	DEX
	BPL 36$
	LDA I,ZCOMET
	STA COMSTART
	LDA I,ZCOMET+<NMCOMETS/2>
	STA COMSTART+1
	LDA I,-1
	STA BCOMSTART+1
;SET TOGGLES ACCORDING TO GAME
	LDX GAME
	LDA X,TTOGDRONE
	STA TOGDRONE
	LDA X,TTOGCOMB
	STA TOGCOMB
	CPX I,ALONEGAME
	BNE 38$
;MAKE INTO ONE SHIP GAME
	LDA I,0
	STA SDELAY+1		;CAN BE DEC
	STA HITS+1
	DEC PRTDAMAGE+1		;ASSUME WAS 0
38$:
	LDA I,1		;ALWAYS START WITH 1 COMET
	STA COMLIMIT
INSET2:	JSR ROCKINI
	JSR INISOU		;INITIALIZE SOUNDS,PROB NOT NEEDED
	.SBTTL	INSET-INITIALIZE SCORE HEADINGS
;WILL CREATE IN VGRAM
;THE SCORE HEADINGS FOR EACH AREA.
;THE SCORE HEADING WILL JUMP
;TO APPROPRIATE SCORE

INSET:
	LDX #50
	LDA #0C0		;AN RTSL
5$:	STA X,PL0SET		;FILL SCORE AREAS WITH RTSL'S
	DEX
	BPL 5$
	LDX #02
	LDA CABINET
	BPL 10$			;NOT COCKTAIL
	LDA GAME		;NOT ON GAME 3 PLEASE
	CMP #03
	BEQ 10$
	LDX #03			;NEED EXTRA MESSAGE IF COCKTAIL
10$:	STX TEMP3+1		;COUNTER FOR WHICH AREA
	LDA X,115$
	STA VGLIST
	LDA X,110$
	STA VGLIST+1		;VGLIST INITIALIZED
;SEE IF ONE SCORE GAME
	LDX TEMP3+1
	BEQ 20$			;THIS SCORE FOR SURE
	CPX I,2
	BCC 14$			;NOT THE COMBINED SCORE
	BIT TOGCOMB
	BPL 16$
14$:	LDY GAME
	CPY I,ALONEGAME
	BNE 20$			;ONE SCORE ONLY
;ADD RTSL AT BEGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;TGINNING OF SECTION
16$:	JSR VGRTSL
	BNE 90$			;ALWAYS$
20$:	LALJSR CNTSCL
	LXHJSR CNTSCL
	JSR VGADD2
;NOT DONE IN ROM SO CAN CHANGE BRIGHTNESS
;VECTOR TO CORRECT PLACE
	LDA CABINET		;FLIP?
	BPL 25$			;NOPE
	LDA GAME		;NO FLIP ON GAME 3 (1 PLAYER, 2 SCORES)
	CMP #3
	BEQ 25$
	LDY TEMP3+1		;GET Y POINTER
	LDA Y,130$		;ELSE GET FLIP INFO
25$:	STA UPDOWN
	LDX TEMP3+1		;GET COLOR OF SCORES
	LDA X,SCRCLR
	TAY			;PUT IN Y FOR VGSTAT INST
	JSR VGSTAT
	LDY TEMP3+1
	LDA Y,100$		;X/4
	LDX #05B		;T